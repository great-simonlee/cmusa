{"version":3,"file":"index.js","mappings":"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","sources":["webpack://cmu/./src/index.js","webpack://cmu/./src/modules/detail.js","webpack://cmu/./src/modules/fbase.js","webpack://cmu/./src/modules/fbinit.js","webpack://cmu/./src/modules/front.js","webpack://cmu/./src/modules/genListing.js","webpack://cmu/./src/modules/header.js","webpack://cmu/./src/modules/mobile/mobile.js","webpack://cmu/./src/modules/mypage.js","webpack://cmu/./src/modules/register.js","webpack://cmu/./src/modules/rent.js","webpack://cmu/./src/modules/rmMatching.js","webpack://cmu/./src/modules/verify.js","webpack://cmu/./assets/css/style.css?6f6b","webpack://cmu/webpack/bootstrap","webpack://cmu/webpack/runtime/chunk loaded","webpack://cmu/webpack/runtime/compat get default export","webpack://cmu/webpack/runtime/define property getters","webpack://cmu/webpack/runtime/hasOwnProperty shorthand","webpack://cmu/webpack/runtime/make namespace object","webpack://cmu/webpack/runtime/jsonp chunk loading","webpack://cmu/webpack/before-startup","webpack://cmu/webpack/startup","webpack://cmu/webpack/after-startup"],"sourcesContent":["// CSS\nimport '../assets/css/style.css';\n\n// JS\nimport '../src/modules/fbinit.js';\nimport '../src/modules/fbase.js';\nimport '../src/modules/front.js';\nimport '../src/modules/mypage.js';\nimport '../src/modules/rmMatching';\nimport '../src/modules/genListing.js';\nimport '../src/modules/register.js';\nimport '../src/modules/header.js';\nimport '../src/modules/detail.js';\nimport '../src/modules/rent.js';\nimport '../src/modules/verify.js';\n\n// Mobile\nimport '../src/modules/mobile/mobile.js';\n","if (window.location.pathname === '/detail/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const myParam = urlParams.get('li');\n\n    const subImgCont = document.querySelector('#detailSubImgCont');\n\n    const translateToChinese = (fea) => {\n      switch (fea) {\n        case 'Washer':\n          return '';\n          break;\n        case 'Dryer':\n          return '';\n          break;\n        case 'Dishwasher':\n          return '';\n          break;\n        case 'AC':\n          return '';\n          break;\n        case 'Rangehood':\n          return '';\n          break;\n        case 'Balcony':\n          return '';\n          break;\n        case 'Concierge':\n          return '24h';\n          break;\n        case 'Gym':\n          return '';\n          break;\n        case 'Lounge':\n          return 'Lobby';\n          break;\n        case 'Elevator':\n          return '';\n          break;\n        case 'Garage':\n          return '/';\n          break;\n        case 'PetFriendly':\n          return '';\n          break;\n        case 'RooftopDeck':\n          return '';\n          break;\n        case 'LaundryRoom':\n          return '';\n          break;\n        case 'Basketball':\n          return '';\n          break;\n        case 'BBQ':\n          return 'BBQ';\n          break;\n        case 'Billiard':\n          return '';\n          break;\n        case 'Golf':\n          return '';\n          break;\n        case 'Kitchen':\n          return '';\n          break;\n        case 'Pool':\n          return '';\n          break;\n        case 'Tennis':\n          return '';\n          break;\n        case 'Theater':\n          return '';\n          break;\n        case 'Wifi':\n          return '';\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    db.collection('rentListing')\n      .doc(myParam)\n      .get()\n      .then((res) => {\n        document.querySelector('#detailLoadingSpinnerDiv').style.display =\n          'none';\n        document.querySelector('#detailContDiv').style.display = 'flex';\n\n        document.querySelector('#detailTitle').innerHTML = res.data().title;\n        document.querySelectorAll('.detailPrice').forEach((el) => {\n          el.innerHTML = stringCon(res.data().price);\n        });\n        document.querySelector('#detailDescription').innerHTML =\n          res.data().description;\n\n        res.data().features.forEach((fea) => {\n          document.querySelector('#detailFeatures').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/uploads/2022/09/${fea}.png\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        res.data().amenities.forEach((fea) => {\n          document.querySelector('#detailAmenities').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/uploads/2022/09/${fea}.png\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        document.querySelectorAll('.detailBed').forEach((el) => {\n          el.innerHTML = res.data().type[0];\n        });\n        document.querySelectorAll('.detailBath').forEach((el) => {\n          el.innerHTML = res.data().type[2];\n        });\n        document.querySelectorAll('.detailBroker').forEach((el) => {\n          el.innerHTML = res.data().broker;\n        });\n\n        console.log(res.data().pictures.length);\n\n        if (res.data().pictures.length != 1) {\n          document.querySelector(\n            '#detailMainImg'\n          ).src = `https://drive.google.com/uc?export=view&id=${\n            res.data().pictures[1]\n          }`;\n\n          // let picArray = [];\n          for (i = 1; i < res.data().pictures.length; i++) {\n            subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${\n              res.data().pictures[i]\n            }\" alt=\"subImg${i}\">`;\n            // picArray.push(res.data().pictures[i]);\n          }\n        } else {\n          document.querySelector(\n            '#detailMainImg'\n          ).src = `https://drive.google.com/uc?export=view&id=${\n            res.data().pictures[0]\n          }`;\n\n          // let picArray = [];\n          for (i = 0; i < res.data().pictures.length; i++) {\n            subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${\n              res.data().pictures[i]\n            }\" alt=\"subImg${i}\">`;\n            // picArray.push(res.data().pictures[i]);\n          }\n        }\n\n        // if (!res.data().mgmt) {\n        //   document.querySelector(\n        //     '#detailMainImg'\n        //   ).src = `https://drive.google.com/uc?export=view&id=${\n        //     res.data().pictures[0]\n        //   }`;\n\n        //   let picArray = [];\n        //   for (i = 0; i < res.data().pictures.length; i++) {\n        //     subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${\n        //       res.data().pictures[i]\n        //     }\" alt=\"subImg${i}\">`;\n        //     picArray.push(res.data().pictures[i]);\n        //   }\n        // } else {\n        //   console.log('this is cent prop');\n\n        //   const xhr = new XMLHttpRequest();\n        //   const JSONurl = `https://script.google.com/macros/s/AKfycby-PhLr60KvBz2Qqe5VZRGs7rEsOpPNlok0WjYnPP3qkWw5avrBoVBVy56AWZGONQTd/exec?ad=124ridgest&un=8`;\n        //   // const JSONurl = `https://script.google.com/macros/s/AKfycbwqMDaMXo2b6nY9FTsTHDjo9pTsFijQTC7DViMj7V7CUYxSFiFXS3lgBdHafe_-Lz02/exec?uid=${uid}&time=${time}`;\n        //   xhr.open('GET', JSONurl, true);\n        //   xhr.onload = function () {\n        //     const getResult = JSON.parse(xhr.responseText);\n        //     console.log(getResult);\n        //     // const picOrder = [];\n        //     // for (i = 0; i < getResult.length; i++) {\n        //     //   for (j = 0; j < getResult.length; j++) {\n        //     //     if (i == getResult[j].order) {\n        //     //       picOrder.push(getResult[j].path);\n        //     //     }\n        //     //   }\n        //     // }\n\n        //     document.querySelector(\n        //       '#detailMainImg'\n        //     ).src = `https://drive.google.com/uc?export=view&id=${getResult[0]}`;\n\n        //     // let picArray = [];\n        //     for (i = 0; i < getResult.length; i++) {\n        //       subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${getResult[i]}\" alt=\"subImg${i}\">`;\n        //       // picArray.push(getResult[i]);\n        //     }\n        //   };\n        //   xhr.send();\n        // }\n\n        setTimeout(() => {\n          const subImgs = document.querySelectorAll('.subImg');\n          subImgs.forEach((el) => {\n            el.addEventListener('mouseover', () => {\n              document.querySelector('#detailMainImg').src = `${el.getAttribute(\n                'src'\n              )}`;\n            });\n          });\n        }, 2000);\n\n        document.querySelectorAll('.detailLength').forEach((el) => {\n          el.innerHTML = res.data().length;\n        });\n        document.querySelectorAll('.detailAddress').forEach((el) => {\n          el.innerHTML = res.data().daddress;\n        });\n        document.querySelectorAll('.detailDate').forEach((el) => {\n          el.innerHTML = res.data().date;\n        });\n\n        var mapDetail = new mapboxgl.Map({\n          container: 'mapDetailDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',   F3bYaVhsckVIwgNKTH6zAA3xwnA31659716256469\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: res.data().coordinate,\n          zoom: 13,\n        });\n\n        mapDetail.addControl(new mapboxgl.NavigationControl());\n\n        mapDetail.on('load', () => {\n          const center = res.data().coordinate;\n          const radius = 0.5;\n          const options = {\n            steps: 35,\n            units: 'kilometers',\n          };\n          const circle = turf.circle(center, radius, options);\n\n          mapDetail.addSource('circleData', {\n            type: 'geojson',\n            data: circle,\n          });\n\n          // add a layer that displays the data   F3bYaVhsckVIwgNKTH6zAA3xwnA31659715927129\n          mapDetail.addLayer({\n            id: 'circle-fill',\n            type: 'fill',\n            source: 'circleData',\n            paint: {\n              'fill-color': '#f78915',\n              // 'fill-color': '#000',\n              'fill-opacity': 0.5,\n            },\n          });\n        });\n\n        // ssssssss\n        document\n          .querySelector('#detailContactUsNow')\n          .addEventListener('click', () => {\n            document.querySelector('#detailContactUsNow').style.display =\n              'none';\n            document.querySelector('#detailContactUsNowLS').style.display =\n              'block';\n\n            const inquirySubmitForm =\n              document.querySelector('#inquirySubmitForm');\n\n            auth.onAuthStateChanged((user) => {\n              if (!user) {\n                window.location.replace('/member-login');\n              } else {\n                var proIn = res.data();\n                const timestamp = new Date(res.data().writetime);\n\n                db.collection('userInfo')\n                  .doc(user.uid)\n                  .get()\n                  .then((res) => {\n                    proIn['request'] = res.data();\n                    document.querySelector('#inquiryUsername').value =\n                      res.data().username;\n                    document.querySelector('#inquiryEmail').value =\n                      res.data().email;\n                    document.querySelector('#inquiryNumber').value =\n                      res.data().number;\n                    document.querySelector('#inquiryWeChat').value =\n                      res.data().wechat;\n                  });\n\n                document.querySelector('#inquiryTitle').value =\n                  res.data().title;\n                document.querySelector('#inquiryAddress').value =\n                  res.data().address;\n                document.querySelector('#inquiryType').value = res.data().type;\n                document.querySelector('#inquiryPrice').value =\n                  res.data().price;\n                document.querySelector('#inquiryDate').value = res.data().date;\n                document.querySelector('#inquiryTime').value = `${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}`;\n                // document.querySelector('#inquiry').value =\n                // document.querySelector('#inquiry').value =\n\n                setTimeout(() => {\n                  emailjs.init('user_02aBegGFQaEbfNQTDpYLP');\n\n                  emailjs\n                    .sendForm(\n                      'service_un17shn',\n                      'template_gjvuym4',\n                      inquirySubmitForm\n                    )\n                    .then(() => {\n                      // console.log();\n                      document.querySelector(\n                        '#detailContactUsNowLS'\n                      ).style.display = 'none';\n                      document.querySelector(\n                        '#inquirySubmissionMsg'\n                      ).style.display = 'flex';\n                    });\n\n                  // emailjs.sendForm(\n                  //   'service_un17shn',\n                  //   'template_gjvuym4',\n                  //   inquirySubmitForm\n                  // );\n                }, 1000);\n              }\n            });\n          });\n\n        document\n          .querySelector('#mbdetailContactUsNow')\n          .addEventListener('click', () => {\n            document.querySelector('#mbdetailContactUsNow').style.display =\n              'none';\n            document.querySelector('#mbdetailContactUsNowLS').style.display =\n              'block';\n\n            const inquirySubmitForm =\n              document.querySelector('#inquirySubmitForm');\n\n            auth.onAuthStateChanged((user) => {\n              if (!user) {\n                window.location.replace('/member-login');\n              } else {\n                var proIn = res.data();\n                const timestamp = new Date(res.data().writetime);\n\n                db.collection('userInfo')\n                  .doc(user.uid)\n                  .get()\n                  .then((res) => {\n                    proIn['request'] = res.data();\n                    document.querySelector('#inquiryUsername').value =\n                      res.data().username;\n                    document.querySelector('#inquiryEmail').value =\n                      res.data().email;\n                    document.querySelector('#inquiryNumber').value =\n                      res.data().number;\n                    document.querySelector('#inquiryWeChat').value =\n                      res.data().wechat;\n                  });\n\n                document.querySelector('#inquiryTitle').value =\n                  res.data().title;\n                document.querySelector('#inquiryAddress').value =\n                  res.data().address;\n                document.querySelector('#inquiryType').value = res.data().type;\n                document.querySelector('#inquiryPrice').value =\n                  res.data().price;\n                document.querySelector('#inquiryDate').value = res.data().date;\n                document.querySelector('#inquiryTime').value = `${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}`;\n                // document.querySelector('#inquiry').value =\n                // document.querySelector('#inquiry').value =\n\n                setTimeout(() => {\n                  emailjs.init('user_02aBegGFQaEbfNQTDpYLP');\n\n                  emailjs\n                    .sendForm(\n                      'service_un17shn',\n                      'template_gjvuym4',\n                      inquirySubmitForm\n                    )\n                    .then(() => {\n                      // console.log();\n                      document.querySelector(\n                        '#mbdetailContactUsNowLS'\n                      ).style.display = 'none';\n                      document.querySelector(\n                        '#mbinquirySubmissionMsg'\n                      ).style.display = 'flex';\n                    });\n\n                  // emailjs.sendForm(\n                  //   'service_un17shn',\n                  //   'template_gjvuym4',\n                  //   inquirySubmitForm\n                  // );\n                }, 1000);\n              }\n            });\n          });\n\n        //////\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const contactEle = document.querySelector('#infoContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#locContainer');\n    const topLocEle = locEle.offsetTop;\n    const descEle = document.querySelector('#descContainer');\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('stickyEle');\n        descEle.style.marginRight = '0px';\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle)\n      ) {\n        contactEle.classList.add('stickyEle');\n        contactEle.style.top = '96px';\n        contactEle.style.right = '14.6vw';\n        descEle.style.marginRight = '264px';\n      } else if (window.pageYOffset > topLocEle) {\n        contactEle.style.top = `${topLocEle - window.pageYOffset + 96}px`;\n      } else {\n        contactEle.classList.remove('stickyEle');\n      }\n    };\n\n    // document\n    //   .querySelector('#detailContactUsNow')\n    //   .addEventListener('click', () => {\n    //     console.log('hello');\n    //     document.querySelector('#detailContactActive').style.display = 'flex';\n    //   });\n\n    // document.querySelector('#closeModalBtn').addEventListener('click', () => {\n    //   document.querySelector('#detailContactActive').style.display = 'none';\n    // });\n\n    // auth.onAuthStateChanged((user) => {\n    //   if (user) {\n    //     document.querySelector('#contactUsNowName').value = user.displayName;\n    //     document.querySelector('#contactUsNowEmail').value = user.email;\n    //     // console.log(user);\n    //     db.collection('userInfo')\n    //       .doc(user.uid)\n    //       .get()\n    //       .then((res) => {\n    //         document.querySelector('#contactUsNowNumber').value =\n    //           res.data().number;\n    //         document.querySelector('#contactUsNowWeChat').value =\n    //           res.data().wechat;\n    //       });\n    //   }\n    // });\n  });\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const auth = firebase.auth();\n\n  const backToMainPage = () => {\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n        navigator.userAgent\n      )\n    ) {\n      // Take the user to a different screen here.\n      window.location = '/mobile';\n    } else {\n      window.location = '/';\n    }\n  };\n\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      const signUpLogInDiv = document.querySelector('#signUpLogInDiv');\n      const userMenuDiv = document.querySelector('#userMenuDiv');\n      const userMenu = document.querySelector('#userMenu');\n      const ddMenu = document.querySelector('#dd-menu-cont');\n      const logOutBtn = document.querySelector('#logOutBtn');\n      signUpLogInDiv.style.display = 'none';\n      userMenuDiv.style.display = 'flex';\n\n      userMenu.addEventListener('click', () => {\n        if (ddMenu.style.display == 'none') {\n          ddMenu.style.display = 'flex';\n        } else {\n          ddMenu.style.display = 'none';\n        }\n      });\n\n      logOutBtn.addEventListener('click', () => {\n        auth.signOut();\n        signUpLogInDiv.style.display = 'flex';\n        userMenuDiv.style.display = 'none';\n      });\n\n      if (\n        window.location.pathname === '/member-login/' ||\n        window.location.pathname === '/member-signup/'\n      ) {\n        backToMainPage();\n      }\n\n      // if (window.location.pathname === '/member-signup/') {\n      //   document.location.href = '/user-verify';\n      // }\n    } else {\n      if (window.location.pathname === '/member-login/') {\n        const logInEmail = document.querySelector('#logInEmail');\n        const logInPassword = document.querySelector('#logInPassword');\n\n        const logInBtn = document.querySelector('#logInBtn');\n        logInBtn.addEventListener('click', () => {\n          auth\n            .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n            .then((result) => {\n              // location.reload();\n              document.location.href = '/';\n              // console.log(auth.currentUser);\n            })\n            .catch((err) => {\n              window.alert(err);\n            });\n        });\n        logInPassword.addEventListener('keypress', function (e) {\n          if (e.key === 'Enter') {\n            auth\n              .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n              .then((result) => {\n                backToMainPage();\n              })\n              .catch((err) => {\n                window.alert(err);\n              });\n          }\n        });\n        document.querySelector('#resetPWbtn').addEventListener('click', () => {\n          console.log('forgot PW?');\n          document.querySelector('#logInBox').style.display = 'none';\n          document.querySelector('#forgotBtnBox').style.display = 'none';\n          document.querySelector('#logInBtn').style.display = 'none';\n          document.querySelector('#resetPWBox').style.display = 'flex';\n          document\n            .querySelector('#forgotEmailSubmitBtn')\n            .addEventListener('click', () => {\n              const resetEmailAddress =\n                document.querySelector('#resetPWEmail').value;\n              auth\n                .sendPasswordResetEmail(resetEmailAddress)\n                .then((res) => {\n                  console.log(res);\n                  console.log('Email sent');\n                  document.querySelector('#resetPWMsg').style.display = 'block';\n                  document.querySelector(\n                    '#forgotEmailSubmitBtn'\n                  ).style.display = 'none';\n                })\n                .catch((error) => {\n                  var errorCode = error.code;\n                  var errorMessage = error.message;\n                });\n            });\n        });\n        document.querySelector('#backToLogIn').addEventListener('click', () => {\n          document.querySelector('#logInBox').style.display = 'block';\n          document.querySelector('#forgotBtnBox').style.display = 'flex';\n          document.querySelector('#logInBtn').style.display = 'block';\n          document.querySelector('#resetPWBox').style.display = 'none';\n        });\n      }\n      if (window.location.pathname === '/member-signup/') {\n        const signUpUsername = document.querySelector('#signUpUsername');\n        const signUpEmail = document.querySelector('#signUpEmail');\n        const signUpPassword = document.querySelector('#signUpPassword');\n        const signUpPasswordCheck = document.querySelector(\n          '#signUpPasswordCheck'\n        );\n        const signUpNumber = document.querySelector('#signUpNumber');\n        const signUpWeChat = document.querySelector('#signUpWeChat');\n        const signUpAgreement = document.querySelector('#userAgreement');\n\n        const signUpBtn = document.querySelector('#signUpBtn');\n        signUpBtn.addEventListener('click', () => {\n          console.log('Clicked');\n          if (signUpPassword.value != signUpPasswordCheck.value) {\n            window.alert('Please check the password again');\n          } else {\n            // Display the passwords are different\n            if (!signUpAgreement.checked) {\n              window.alert('Please check the user agreement');\n            } else {\n              auth\n                .createUserWithEmailAndPassword(\n                  signUpEmail.value,\n                  signUpPassword.value\n                )\n                .then((result) => {\n                  result.user\n                    .updateProfile({\n                      displayName: signUpUsername.value,\n                    })\n                    .then(() => {\n                      backToMainPage();\n                      // window.location = '/user-verify';\n                    });\n                })\n                .catch((err) => {\n                  window.alert(err.message);\n                });\n              console.log('Checked');\n            }\n          }\n        });\n      }\n\n      if (window.location.pathname === '/mypage/') {\n        backToMainPage();\n      }\n    }\n  });\n});\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//     auth.onAuthStateChanged((user) => {\n//       if (!user) {\n//       } else {\n//         // document.location.href = '/';\n//         console.log(user);\n//         setTimeout(() => {\n//           console.log(user);\n//         }, 2000);\n//       }\n//     });\n//   });\n// }\n\n// if (window.location.pathname === '/member-signup/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//   });\n// }\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     console.log('login');\n//   });\n// }\n\n// auth\n//   .createUserWithEmailAndPassword(signUpEmail.value, signUpPassword.value)\n//   .then((result) => {\n//     result.user.updateProfile({\n//       displayName: signUpUsername.value,\n//     });\n//     // location.reload();\n//     result.user\n//       .sendEmailVerification()\n//       .then(() => {\n//         window.alert(\n//           '          .'\n//         );\n//         veriBtnLSOff();\n//       })\n//       .catch((err) => {\n//         console.error(err.message);\n//         veriBtnLSOff();\n//       });\n//   })\n//   .catch((err) => {\n//     console.error(err.message);\n//     window.alert(err.message);\n//     veriBtnLSOff();\n//   });\n","window.addEventListener('DOMContentLoaded', () => {\n  const firebaseConfig = {\n    apiKey: 'AIzaSyDAjXdbYphJwzZ9mUDFsTWBQDz81xh9opA',\n    authDomain: 'koreamovesusa.firebaseapp.com',\n    projectId: 'koreamovesusa',\n    storageBucket: 'koreamovesusa.appspot.com',\n    messagingSenderId: '171734962463',\n    appId: '1:171734962463:web:12ef0531328c38b2e2e02a',\n    measurementId: 'G-KFFWZ5Q1SY',\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  // const db = firebase.firestore();\n  // const storage = firebase.storage();\n  // const auth = firebase.auth();\n});\n","if (window.location.pathname === '/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    const NYAreaConvertor = (area) => {\n      let NYAreaInChinese;\n\n      switch (area) {\n        case 'uptown':\n          NYAreaInChinese = '--';\n          break;\n        case 'midtown':\n          NYAreaInChinese = '--';\n          break;\n        case 'downtown':\n          NYAreaInChinese = '--';\n          break;\n        case 'lic':\n          NYAreaInChinese = '-';\n          break;\n        case 'queens':\n          NYAreaInChinese = '-';\n          break;\n        case 'flushing':\n          NYAreaInChinese = '-';\n          break;\n        case 'brooklyn':\n          NYAreaInChinese = '-';\n          break;\n        case 'bronx':\n          NYAreaInChinese = '-';\n          break;\n        case 'etc':\n          NYAreaInChinese = '-';\n          break;\n\n        default:\n          break;\n      }\n\n      return NYAreaInChinese;\n    };\n\n    const BOSAreaConvertor = (area) => {\n      let BOSAreaInChinese;\n\n      switch (area) {\n        case 'allston':\n          BOSAreaInChinese = '-';\n          break;\n        case 'backbay':\n          BOSAreaInChinese = '-';\n          break;\n        case 'brighton':\n          BOSAreaInChinese = '-';\n          break;\n        case 'brookline':\n          BOSAreaInChinese = '-';\n          break;\n        case 'cambridge':\n          BOSAreaInChinese = '-';\n          break;\n        case 'downtown':\n          BOSAreaInChinese = '-';\n          break;\n        case 'fenway':\n          BOSAreaInChinese = '-';\n          break;\n        case 'northend':\n          BOSAreaInChinese = '-';\n          break;\n        case 'malden':\n          BOSAreaInChinese = '-';\n          break;\n        case 'southend':\n          BOSAreaInChinese = '-';\n          break;\n        case 'somerville':\n          BOSAreaInChinese = '-';\n          break;\n        case 'etc':\n          BOSAreaInChinese = '-';\n          break;\n\n        default:\n          break;\n      }\n\n      return BOSAreaInChinese;\n    };\n\n    const NYlistingRef = db.collection('rentListing');\n    const NYListingDiv = document.querySelector('#NYListingDiv');\n    NYlistingRef.orderBy('writetime', 'asc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        NYListingDiv.style.display = 'grid';\n        res.docs.map((el) => {\n          // console.log(el.data());\n          NYListingDiv.innerHTML += `\n            <a class=\"frontToListing\" href=\"/detail/?li=${el.data().uid}${\n            el.data().writetime\n          }\" target=\"blank\">\n              <div class=\"main-rent-card\">\n                <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                  el.data().pictures[0]\n                }\" alt=\"rentExample\">\n                <div class=\"main-rent-info\">\n                  <div>\n                    <p class=\"main-rent-title\">${el.data().title}</p>\n                    <p class=\"main-rent-city\">${NYAreaConvertor(\n                      el.data().area\n                    )}</p>\n                    <p class=\"main-rent-term\">${el.data().length}</p>\n                  </div>\n                  <div class=\"main-rent-price\"><p>$ ${stringCon(\n                    el.data().price\n                  )}/</p></div>\n                </div>\n              </div>\n            </a>`;\n        });\n        document.querySelector('#frontPreLoading').style.display = 'none';\n      });\n\n    const BOSlistingRef = db.collection('bostonListing');\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        const BOSListingDiv = document.querySelector('#BOSListingDiv');\n        res.docs.map((el) => {\n          BOSListingDiv.innerHTML += `\n            <div class=\"main-rent-card\">\n              <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                el.data().pictures[0]\n              }\" alt=\"rentExample\">\n              <div class=\"main-rent-info\">\n                <div>\n                  <p class=\"main-rent-title\">${el.data().title}</p>\n                  <p class=\"main-rent-city\">${BOSAreaConvertor(\n                    el.data().area\n                  )}</p>\n                  <p class=\"main-rent-term\">${el.data().length}</p>\n                </div>\n                <div class=\"main-rent-price\"><p>$ ${stringCon(\n                  el.data().price\n                )}/</p></div>\n              </div>\n            </div>`;\n        });\n      });\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(6)\n      .get()\n      .then((res) => {\n        res.docs.map((el) => {\n          // console.log(el.data());\n        });\n      });\n\n    document.querySelector('#mainSearchBtn').addEventListener('click', () => {\n      let queryString = '?';\n      document.querySelectorAll('.mainSearchSelectOption').forEach((el) => {\n        if (el.selected) {\n          if (queryString.length == 1) {\n            queryString += el.value;\n          } else {\n            queryString += '&' + el.value;\n          }\n        }\n      });\n      window.location = '/rent/' + queryString;\n    });\n\n    const hotListingDiv = document.querySelector('#frontHotListing');\n    const hotAreaDiv = document.querySelector('#frontHotArea');\n    const HOTAreaCat = document.querySelector('#HOTAreaCat');\n    hotListingDiv.addEventListener('click', () => {\n      hotAreaDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotAreaDiv.children[0].style.color = '#fff';\n      hotListingDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotListingDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'grid';\n      HOTAreaCat.style.display = 'none';\n    });\n    hotAreaDiv.addEventListener('click', () => {\n      hotListingDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotListingDiv.children[0].style.color = '#fff';\n      hotAreaDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotAreaDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'none';\n      HOTAreaCat.style.display = 'grid';\n    });\n  });\n}\n","if (window.location.pathname.includes('genlisting')) {\n  console.log(' THIS IS THE PLACE');\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const mobileMenu = document.querySelector('#mobileDropDownMenuIcon');\n  const mobileDDList = document.querySelector('#mobile-dd-detail');\n  mobileMenu.addEventListener('click', () => {\n    if (mobileMenu.getAttribute('menu-active') == 0) {\n      mobileMenu.setAttribute('menu-active', 1);\n      mobileDDList.style.display = 'flex';\n    } else {\n      mobileMenu.setAttribute('menu-active', 0);\n      mobileDDList.style.display = 'none';\n    }\n  });\n\n  const auth = firebase.auth();\n  const db = firebase.firestore();\n  const userMenu = document.querySelectorAll('.member-menu');\n  const nonUserMenu = document.querySelectorAll('.non-member-menu');\n  const userLogOut = document.querySelector('#mobile-dd-logout');\n\n  auth.onAuthStateChanged((user) => {\n    if (!user) {\n      userMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'block';\n      });\n    } else {\n      userMenu.forEach((el) => {\n        el.style.display = 'flex';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      userLogOut.addEventListener('click', () => {\n        auth.signOut();\n      });\n    }\n  });\n});\n","if (window.location.pathname === '/mobile/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const hder = document.querySelector('#gnav');\n    const fter = document.querySelector('#gfter');\n    hder.style.display = 'none';\n    fter.style.display = 'none';\n\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    // URL Param variables\n    const currentURL = window.location.search;\n    const currentParamsURL = new URLSearchParams(currentURL);\n\n    var NYRef = db.collection('rentListing');\n\n    // Mobile Filter Section\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#mob${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#mob${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    if (currentParamsURL.get('area')) {\n      NYRef = NYRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      NYRef = NYRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          NYRef = NYRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          NYRef = NYRef.where('price', '>=', '1000');\n          NYRef = NYRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          NYRef = NYRef.where('price', '>=', '2000');\n          NYRef = NYRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          NYRef = NYRef.where('price', '>=', '3000');\n          NYRef = NYRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          NYRef = NYRef.where('price', '>=', '4000');\n          NYRef = NYRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          NYRef = NYRef.where('price', '>=', '5000');\n          NYRef = NYRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          NYRef = NYRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchType = document.querySelectorAll('.mobSearchType');\n    const searchArea = document.querySelectorAll('.mobSearchArea');\n    const searchPrice = document.querySelectorAll('.mobSearchPrice');\n    searchElSelector(searchType);\n    searchElSelector(searchArea);\n    searchElSelector(searchPrice);\n\n    const fileterDiv = document.querySelector('#mobileFilterDiv');\n    const filterDivDetail = document.querySelectorAll('.mb-filter-item-detail');\n    const mobileTimeFilter = document.querySelector('#mobile-filter-time');\n    mobileTimeFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[0].style.visibility = 'visible';\n    });\n    const mobileAreaFilter = document.querySelector('#mobile-filter-area');\n    mobileAreaFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[1].style.visibility = 'visible';\n    });\n    const mobilePriceFilter = document.querySelector('#mobile-filter-price');\n    mobilePriceFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[2].style.visibility = 'visible';\n    });\n\n    // Actual Listing Showing\n    const mobileListingCont = document.querySelector('#mobileListingCont');\n    NYRef.limit(10)\n      .get()\n      .then((res) => {\n        // Mobile LS Disappear\n        document.querySelector('#mobileFrontLoadingSpinnerDiv').style.display =\n          'none';\n        res.docs.map((doc) => {\n          mobileListingCont.innerHTML += `\n          <a class=\"mobileListingAnchor\" href=\"/detail/?li=${doc.data().uid}${\n            doc.data().writetime\n          }\">\n            <div class=\"mb-card\">\n              <img class=\"mb-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                doc.data().pictures[0]\n              }\" alt=\"CMMobileListingImg\">\n              <div class=\"mb-card-desc\">\n                <p class=\"mbc-desc-title\">${doc.data().title}</p>\n                <p class=\"mbc-desc-content\"> JP 1b1b  1600/   4/7-8/7 <br> ${\n                  doc.data().daddress\n                }</p>\n                <p class=\"mbc-desc-price\">$ ${stringCon(\n                  doc.data().price\n                )}/</p>\n              </div>\n            </div>\n          </a>`;\n        });\n      });\n\n    //\n    var selectedCategory;\n    const mobileFrontCategory = document.querySelectorAll(\n      '.mb-menu-category-item'\n    );\n    const underlineCategory = document.querySelectorAll(\n      '.mb-menu-category-selected'\n    );\n    const mobileFrontRentListingDiv = document.querySelector(\n      '#mb-front-rentListing'\n    );\n    const mobileFrontShorterm = document.querySelector('#mb-front-shortterm');\n    const mobileFrontRoommate = document.querySelector('#mb-front-roommate');\n\n    mobileFrontCategory.forEach((el) => {\n      // el.style.color = '#c9c9c9';\n      el.addEventListener('click', (e) => {\n        e.target.style.color = '#000';\n        selectedCategory = e.target.getAttribute('cate-index');\n\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          e.target.parentNode.children[i].style.color = '#c9c9c9';\n        }\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          underlineCategory[i].style.visibility = 'hidden';\n        }\n        underlineCategory[selectedCategory].style.visibility = 'visible';\n        e.target.parentNode.children[selectedCategory].style.color = '#000';\n\n        if (selectedCategory == 0) {\n          mobileFrontRentListingDiv.style.display = 'block';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 1) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'block';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 2) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'block';\n        }\n      });\n    });\n\n    const mobileFooterMoreDefault = document.querySelector(\n      '#mobileFooterMoreDefault'\n    );\n    const mobileFooterDetail = document.querySelector('#mobileFooterDetail');\n    const mobileFooterDetailMenu = document.querySelector(\n      '#mobileFooterDetailMenu'\n    );\n    mobileFooterMoreDefault.addEventListener('click', () => {\n      console.log('more btn');\n      mobileFooterMoreDefault.style.display = 'none';\n      mobileFooterDetail.style.display = 'flex';\n      mobileFooterDetailMenu.style.visibility = 'visible';\n      mobileFooterDetailMenu.style.opacity = '1';\n    });\n    mobileFooterDetail.addEventListener('click', () => {\n      console.log('detail');\n      mobileFooterMoreDefault.style.display = 'flex';\n      mobileFooterDetail.style.display = 'none';\n      mobileFooterDetailMenu.style.visibility = 'hidden';\n      mobileFooterDetailMenu.style.opacity = '0';\n    });\n    //\n  });\n}\n","if (window.location.pathname === '/mypage/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const auth = firebase.auth();\n    auth.onAuthStateChanged((user) => {\n      if (!user) {\n        if (\n          /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n            navigator.userAgent\n          )\n        ) {\n          // Take the user to a different screen here.\n          window.location = '/mobile';\n        } else {\n          window.location.replace('/');\n        }\n      } else {\n        const db = firebase.firestore();\n        const uid = user.uid;\n        const listingRef = db.collection('rentListing');\n        const userRef = db.collection('userInfo');\n\n        const myListingDiv = document.querySelector('#myListingDiv');\n        const mbMyListing = document.querySelector('#mbMyListing');\n\n        listingRef\n          .where('uid', '==', uid)\n          .get()\n          .then((res) => {\n            res.docs.map((el) => {\n              // console.log(el.data());\n              const timestamp = new Date(\n                parseInt(String(el.data().writetime).substring(0, 13))\n              );\n\n              if (el.data().type == 'studio') {\n                var objPropBed = 'Studio';\n                var objPropBath = '1 Bath';\n              } else {\n                var objPropBed = el.data().type[0] + ' Bed';\n                var objPropBath = el.data().type[2] + ' Bath';\n              }\n\n              myListingDiv.innerHTML += `\n                <div class=\"myp-lising-card\">\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"_blank\">\n                    <div class=\"myp-card-left\">\n                      <img class=\"myp-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                        el.data().pictures[0]\n                      }\">\n                      <div class=\"myp-card-img-desc\">\n                        <div class=\"myp-card-type\">\n                          <p>${objPropBed}</p>\n                          <p>${objPropBath}</p>\n                        </div>\n                        <div class=\"myp-card-price\">$ ${\n                          el.data().price\n                        }/</div>\n                      </div>\n                    </div>\n                  </a>\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"blank\">\n                    <div class=\"myp-card-desc\">\n                      <div class=\"myp-card-detail\">\n                        <p>${el.data().title}</p>\n                        <p>${el.data().length}</p>\n                        <p>${el.data().date}</p>\n                        <p>${\n                          timestamp.getMonth() + 1\n                        }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class=\"myp-card-editdelete\">\n                    <i class=\"fa fa-pencil-square-o editdelete\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;</span></i>\n                    <i class=\"fa fa-trash-o editdelete deleteDiv\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;</span></i>\n                  </div>\n                </div>\n              `;\n\n              mbMyListing.innerHTML += `\n              <div class=\"mb-mypage-card\">\n                <a href=\"/detail/?li=${el.data().uid}${el.data().writetime}\">\n                  <div class=\"mb-mypage-card-cont\">\n                    <img class=\"mb-mypage-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                      el.data().pictures[0]\n                    }\">\n                    <div class=\"mb-mypage-card-desc\">\n                      <p class=\"mb-mypage-card-title\">${el.data().title}</p>\n                      <div class=\"mb-mypage-card-info\">\n                        <p>${objPropBed}</p>\n                        <p>${objPropBath}</p>\n                        <p>$ ${el.data().price}/</p>\n                      </div>\n                    </div>\n                  </div>\n                </a>\n                <div class=\"mb-mypage-card-editdelete\">\n                  <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n                  <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\n                </div>\n              </div>\n              `;\n            });\n\n            // Edit and Delete btn activation\n            const editDiv = document.querySelectorAll('.editDiv');\n            editDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                console.log('edit');\n                console.log(el.getAttribute('data-search'));\n              });\n            });\n            const deleteDiv = document.querySelectorAll('.deleteDiv');\n            deleteDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                listingRef\n                  .doc(el.getAttribute('data-search'))\n                  .delete()\n                  .then(() => {\n                    console.log('Successfully deleted');\n                    location.reload();\n                  })\n                  .catch((err) => {\n                    console.log(err);\n                  });\n              });\n            });\n          });\n\n        const userEmailInput = document.querySelector('#mpEmail');\n        userEmailInput.style.color = '#fff';\n        userEmailInput.value = user.email;\n        userEmailInput.disabled = true;\n        const userName = document.querySelector('#mpUsername');\n        userName.style.color = '#fff';\n        userName.value = user.displayName;\n        userName.disabled = true;\n        // userRef\n        //   .doc(uid)\n        //   .get()\n        //   .then((res) => {\n        //     const userEmailInput = document.querySelector('#mpEmail');\n        //     userEmailInput.style.color = '#fff';\n        //     userEmailInput.value = res.data().email;\n        //     userEmailInput.disabled = true;\n        //     const userName = document.querySelector('#mpUsername');\n        //     userName.style.color = '#fff';\n        //     userName.value = res.data().username;\n        //     userName.disabled = true;\n        //     const userPhone = document.querySelector('#mpPhone');\n        //     userPhone.style.color = '#fff';\n        //     userPhone.value = res.data().number;\n        //     userPhone.disabled = true;\n        //     const userWechat = document.querySelector('#mpWeixin');\n        //     userWechat.style.color = '#fff';\n        //     userWechat.value = res.data().wechat;\n        //     userWechat.disabled = true;\n        //   });\n      }\n    });\n\n    const mypageCateBtn = document.querySelectorAll('.mpcat-item');\n    const mypageSection = document.querySelectorAll('.mypage-section');\n\n    mypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mypageCateBtn[index].style.color = '#fff';\n        mypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mypageCateBtn[2].style.color = '#fff';\n      mypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n\n    const mobMypageCateBtn = document.querySelectorAll('.mob-mpcat-item');\n\n    mobMypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mobMypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mobMypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mobMypageCateBtn[index].style.color = '#fff';\n        mobMypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mobMypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mobMypageCateBtn[2].style.color = '#fff';\n      mobMypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n  });\n}\n","if (window.location.pathname === '/register/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    // firebase\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        // mapbox\n        var maptest = new mapboxgl.Map({\n          container: 'maptestDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: [121.5003576, 31.2185876],\n          zoom: 12,\n        });\n\n        maptest.addControl(new mapboxgl.NavigationControl());\n\n        const marker1 = new mapboxgl.Marker({\n          color: '#b40219',\n        })\n          .setLngLat([121.5003576, 31.2185876])\n          .addTo(maptest);\n\n        const newPostingObj = { features: [], amenities: [], address: '' };\n\n        const uid = user.uid;\n        const time = new Date().getTime();\n        const poster = user.email;\n        // console.log(uid);\n        // console.log(time);\n\n        const pointMapCity = document.querySelector('#rq-city');\n        const pointMapAddress = document.querySelector('#rq-address');\n        const pointMapZip = document.querySelector('#rq-zip');\n        pointMapAddress.addEventListener('focusout', () => {\n          marker1.remove();\n\n          console.log('work?');\n          const searchMap = String(\n            pointMapAddress.value +\n              ', ' +\n              pointMapCity.value +\n              ', ' +\n              pointMapZip.value +\n              'united states'\n          );\n\n          if (pointMapAddress.value != '') {\n            // LONGITUDE AND LATITUTDE\n            const xmlhttp = new XMLHttpRequest();\n            let addressReq1 = searchMap.replaceAll(',', '');\n            let addressReq = addressReq1.replaceAll(' ', '%20');\n            console.log(addressReq);\n            xmlhttp.onreadystatechange = function () {\n              if (this.readyState == 4 && this.status == 200) {\n                var myArr = JSON.parse(this.responseText);\n                newPostingObj.address = myArr.features[0].place_name;\n                newPostingObj.coordinate = myArr.features[0].center;\n              }\n            };\n            const corReqURL = `https://api.mapbox.com/geocoding/v5/mapbox.places/${addressReq}.json?access_token=pk.eyJ1IjoiZ3JlYXQtc2ltb25sZWUiLCJhIjoiY2t6b2szZ2U5NjA0ZjJwdHZiY3Q1OHNtcyJ9.qdLhsMCScxxfzT9CYywRUQ`;\n            xmlhttp.open('GET', corReqURL, true);\n            xmlhttp.send();\n\n            const coorCheck = setInterval(() => {\n              maptest.flyTo({\n                center: newPostingObj.coordinate,\n                essential: true,\n                screenSpeed: 3,\n              });\n\n              const marker1 = new mapboxgl.Marker({\n                color: '#b40219',\n              })\n                .setLngLat(newPostingObj.coordinate)\n                .addTo(maptest);\n\n              if (newPostingObj.coordinate != undefined) {\n                clearInterval(coorCheck);\n              }\n            }, 500);\n          }\n        });\n\n        const pointArea = document.querySelector('#rq-area');\n        pointMapCity.addEventListener('focusout', () => {\n          // console.log(pointArea.children.length);\n          switch (pointMapCity.value) {\n            case 'newyork':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n              <option value=\"downtown\" map-point=\"\">-(Downtown)</option>\n              <option value=\"midtown\" map-point=\"\">-(Midtown)</option>\n              <option value=\"uptown\" map-point=\"\">-(Uptown)</option>\n              <option value=\"lic\" map-point=\"\">(LIC)</option>\n              <option value=\"queens\" map-point=\"\">(Queens)</option>\n              <option value=\"flushing\" map-point=\"\">(Flushing)</option>\n              <option value=\"brooklyn\" map-point=\"\">(Brooklyn)</option>\n              <option value=\"bronx\" map-point=\"\">(Bronx)</option>\n              <option value=\"etc\" map-point=\"\"></option>\n              `;\n              break;\n            case 'boston':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                <option value=\"allston\" map-point=\"\">(Allston)</option>\n                <option value=\"backbay\" map-point=\"\">(Back Bay)</option>\n                <option value=\"brighton\" map-point=\"\">(Brighton)</option>\n                <option value=\"brookline\" map-point=\"\">(Brookline)</option>\n                <option value=\"cambridge\" map-point=\"\">(Cambridge)</option>\n                <option value=\"downtown\" map-point=\"\">(Downtown)</option>\n                <option value=\"fenway\" map-point=\"\">(Fenway)</option>\n                <option value=\"northend\" map-point=\"\">(North End)</option>\n                <option value=\"malden\" map-point=\"\">(Malden)</option>\n                <option value=\"southend\" map-point=\"\">(South End)</option>\n                <option value=\"somerville\" map-point=\"\">(Somerville)</option>\n                <option value=\"etc\" map-point=\"\"></option>\n                `;\n              break;\n            case 'newjersey':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                  <option value=\"\" map-point=\"\">(Edison)</option>\n                  <option value=\"\" map-point=\"\">(Montgomery)</option>\n                  <option value=\"\" map-point=\"\">(Princeton)</option>\n                  <option value=\"\" map-point=\"\">(West Windsor)</option>\n                  <option value=\"\" map-point=\"\">(Plainsboro)</option>\n                  <option value=\"\" map-point=\"\">(Paramus)</option>\n                  <option value=\"\" map-point=\"\">(Fort Lee)</option>\n                  <option value=\"\" map-point=\"\">(Secaucus)</option>\n                  <option value=\"\" map-point=\"\">(Jersey City)</option>\n                  <option value=\"\" map-point=\"\">(West New York)</option>\n                  <option value=\"\" map-point=\"\">(Union City)</option>\n                  <option value=\"\" map-point=\"\">(Hoboken)</option>\n                  <option value=\"Etc\" map-point=\"\"></option>\n                  `;\n              break;\n          }\n        });\n\n        // Google scripts iframe\n        const googleIframeDiv = document.querySelector('#googleIframeDiv');\n        googleIframeDiv.innerHTML = `<iframe id=\"reg-ifr\" src=\"\n        https://script.google.com/macros/s/AKfycbxXw1TdvVmWiy1wwhrafKsFWoMHtICEkKIIfNVonlZHO_v14TXt43C_ThqqURpQiYj24g/exec?usr=${uid}&time=${time}\" frameborder=\"0\" style=\"width: 100%; height: 400px; background-color: #0f0f0f;\"></iframe>`;\n\n        const regSubmitBtn = document.querySelector('#regSubmitBtn');\n\n        const regCity = document.querySelector('#rq-city');\n        const regArea = document.querySelector('#rq-area');\n        const regTitle = document.querySelector('#rq-title');\n        const regPrice = document.querySelector('#rq-price');\n        const regType = document.querySelector('#rq-type');\n        const regLength = document.querySelector('#rq-length');\n        const regDate = document.querySelector('#rq-movdate');\n        const regDateMonth = document.querySelector('#rq-movdate').split('-');\n        const regContact = document.querySelector('#rq-contact');\n        const regFea = document.querySelectorAll('.rq-fea');\n        const regAme = document.querySelectorAll('.rq-ame');\n        const regDesc = document.querySelector('#rq-desc');\n        const regDAddress = document.querySelector('#rq-dAddress');\n        const regBrokerFee = document.querySelector('#rq-broker');\n\n        regSubmitBtn.addEventListener('click', () => {\n          const xhr = new XMLHttpRequest();\n          // const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=F3bYaVhsckVIwgNKTH6zAA3xwnA3&time=1659711629275`;\n          const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=${uid}&time=${time}`;\n          xhr.open('GET', JSONurl, true);\n          xhr.onload = function () {\n            const getResult = JSON.parse(xhr.responseText);\n            const picOrder = [];\n            for (i = 0; i < getResult.length; i++) {\n              for (j = 0; j < getResult.length; j++) {\n                if (i == getResult[j].order) {\n                  picOrder.push(getResult[j].path);\n                }\n              }\n            }\n            newPostingObj.pictures = picOrder;\n\n            validateInput(newPostingObj);\n          };\n          xhr.send();\n\n          newPostingObj.city = regCity.value;\n          newPostingObj.area = regArea.value;\n          newPostingObj.prop = regProp.value;\n          newPostingObj.title = regTitle.value;\n          newPostingObj.price = regPrice.value;\n          newPostingObj.type = regType.value;\n          newPostingObj.length = regLength.value;\n          newPostingObj.date = regDate.value;\n          newPostingObj.dateMonth = regDateMonth[1];\n          newPostingObj.contact = regContact.value;\n          newPostingObj.description = regDesc.value;\n          newPostingObj.uid = uid;\n          newPostingObj.writetime = time;\n          newPostingObj.web = 'cm';\n          newPostingObj.daddress = regDAddress.value;\n          newPostingObj.broker = regBrokerFee.value;\n          newPostingObj.poster = poster;\n\n          regFea.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.features.push(el.getAttribute('data-input'));\n            }\n          });\n          regAme.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.amenities.push(el.getAttribute('data-input'));\n            }\n          });\n        });\n\n        const validateInput = (obj) => {\n          console.log(obj);\n          for (i = 0; i < Object.values(obj).length; i++) {\n            if (Object.values(obj)[i] === '') {\n              switch (Object.keys(obj)[i]) {\n                case 'address':\n                  document.getElementById('rq-address').scrollIntoView();\n                  document.getElementById('rq-address').style.border =\n                    'red solid 3px';\n                  break;\n                case 'prop':\n                  document.getElementById('rq-city').scrollIntoView();\n                  document.getElementById('rq-city').style.border =\n                    'red solid 3px';\n                  break;\n                case 'title':\n                  document.getElementById('rq-title').scrollIntoView();\n                  document.getElementById('rq-title').style.border =\n                    'red solid 3px';\n                  break;\n                case 'price':\n                  document.getElementById('rq-price').scrollIntoView();\n                  document.getElementById('rq-price').style.border =\n                    'red solid 3px';\n                  break;\n                case 'type':\n                  document.getElementById('rq-type').scrollIntoView();\n                  document.getElementById('rq-type').style.border =\n                    'red solid 3px';\n                  break;\n                case 'length':\n                  document.getElementById('rq-length').scrollIntoView();\n                  document.getElementById('rq-length').style.border =\n                    'red solid 3px';\n                  break;\n                case 'date':\n                  document.getElementById('rq-movdate').scrollIntoView();\n                  document.getElementById('rq-movdate').style.border =\n                    'red solid 3px';\n                  break;\n                case 'contact':\n                  document.getElementById('rq-contact').scrollIntoView();\n                  document.getElementById('rq-contact').style.border =\n                    'red solid 3px';\n                  break;\n                case 'description':\n                  document.getElementById('rq-desc').scrollIntoView();\n                  document.getElementById('rq-desc').style.border =\n                    'red solid 3px';\n                  break;\n                case 'daddress':\n                  document.getElementById('rq-dAddress').scrollIntoView();\n                  document.getElementById('rq-dAddress').style.border =\n                    'red solid 3px';\n                  break;\n              }\n            } else {\n              uploadListingInf(newPostingObj);\n            }\n          }\n        };\n\n        const uploadListingInf = (obj) => {\n          const docName = String(uid) + String(time);\n\n          // console.log(docName);\n          // console.log(obj);\n\n          // access the db\n          db.collection('rentListing')\n            .doc(docName)\n            .set(obj)\n            .then((result) => {\n              // TEXT TO SPINNER OR VICE VERSA\n              console.log(result);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        };\n      } else {\n        document.location.href = '/member-login';\n      }\n    });\n  });\n}\n","if (window.location.pathname === '/rent/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    // Initialize map\n    var maplisting = new mapboxgl.Map({\n      container: 'rentListingMap',\n      // style: 'mapbox://styles/mapbox/streets-v11',\n      style: 'mapbox://styles/mapbox/dark-v10',\n      center: ['-73.98917', '40.74358'],\n      zoom: 12,\n    });\n\n    const db = firebase.firestore();\n\n    // Map marker generator\n    const mapMarkerGenerator = (coor) => {\n      const marker1 = new mapboxgl.Marker({\n        color: '#f78915',\n        scale: '0.7',\n      })\n        .setLngLat(coor)\n        .addTo(maplisting);\n    };\n\n    // Making listings\n    const makeListings = (obj) => {\n      // console.log(obj.address);\n      // console.log(parseInt(String(obj.writetime).substring(0, 12)));\n      const timestamp = new Date(\n        parseInt(String(obj.writetime).substring(0, 13))\n      );\n      // const writeTimeStampTemp = new Date(obj.writetime);\n      // const strTimeStamp = obj.writetime.substring(0, 12);\n      // console.log(strTimeStamp);\n      // const timestamp = new Date(strTimeStamp);\n      // const writeTimeStamp = String(writeTimeStampTemp).slice(0, 9);\n      if (obj.type == 'studio') {\n        var objPropBed = 'Studio';\n        var objPropBath = '1 Bathroom';\n      } else {\n        var objPropBed = obj.type[0] + ' Bedroom';\n        var objPropBath = obj.type[2] + ' Bathroom';\n      }\n\n      let thumbnailPic;\n\n      if (obj.pictures.length != 1) {\n        thumbnailPic = obj.pictures[1];\n      } else {\n        thumbnailPic = obj.pictures[0];\n      }\n\n      listingContainer.innerHTML += `\n        <a class=\"rlCoorEl\" href=\"/detail/?li=${obj.uid}${\n        obj.writetime\n      }\" target=\"blank\">\n          <div class=\"rl-card\" data-coor=\"${obj.coordinate}\">\n            <div class=\"rl-card-cont\">\n              <img class=\"rl-card-img\" src=\"https://drive.google.com/uc?export=view&id=${thumbnailPic}\">\n              <div class=\"rl-card-info\">\n                <div class=\"rlc-info-text\">\n                  <p>${objPropBed}</p>\n                  <p>${objPropBath}</p>\n                </div>\n                <p>$ ${obj.price}/Month</p>\n              </div>\n            </div>\n            <div class=\"rl-card-desc\">\n              <h4>${obj.title}</h4>\n              <div>\n                <p>${obj['length']}</p>\n                <p>${obj.date}</p>\n                <p>${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n              </div>\n            </div>\n          </div>\n        </a>`;\n    };\n\n    // Listing card hover map effect\n    const mapHoverEffecter = () => {\n      const rentListingCard = document.querySelectorAll('.rl-card');\n      for (i = 0; i < rentListingCard.length; i++) {\n        rentListingCard[i].addEventListener('mouseenter', (e) => {\n          maplisting.flyTo({\n            center: e.target.getAttribute('data-coor').split(','),\n            essential: true,\n            screenSpeed: 5,\n          });\n        });\n      }\n    };\n\n    // Search initial query colorizer\n    const rentListingDiv = document.querySelector('#rentListingDiv');\n    const currentURL = window.location.search;\n    // console.log(currentURL);\n    const currentParamsURL = new URLSearchParams(currentURL);\n    // console.log(currentParamsURL.get('type'));\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('length');\n      findParamKeyValue('date');\n      findParamKeyValue('broker');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    var fbQueryRef = db.collection('rentListing');\n\n    if (currentParamsURL.get('area')) {\n      fbQueryRef = fbQueryRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      fbQueryRef = fbQueryRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          fbQueryRef = fbQueryRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          fbQueryRef = fbQueryRef.where('price', '>=', '1000');\n          fbQueryRef = fbQueryRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          fbQueryRef = fbQueryRef.where('price', '>=', '2000');\n          fbQueryRef = fbQueryRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          fbQueryRef = fbQueryRef.where('price', '>=', '3000');\n          fbQueryRef = fbQueryRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          fbQueryRef = fbQueryRef.where('price', '>=', '4000');\n          fbQueryRef = fbQueryRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '5000');\n          fbQueryRef = fbQueryRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n    if (currentParamsURL.get('length')) {\n      if (currentParamsURL.get('length') == '12') {\n        // fbQueryRef = fbQueryRef.where('length', '==', '1');\n        fbQueryRef = fbQueryRef.where('length', '==', '12');\n      } else {\n        fbQueryRef = fbQueryRef.where(\n          'length',\n          '==',\n          currentParamsURL.get('length')\n        );\n      }\n    }\n    if (currentParamsURL.get('date')) {\n      fbQueryRef = fbQueryRef.where(\n        'dateMonth',\n        '==',\n        parseInt(currentParamsURL.get('date'))\n      );\n    }\n    if (currentParamsURL.get('broker')) {\n      const modifiedQuery = currentParamsURL.get('broker').replaceAll('z', ' ');\n      fbQueryRef = fbQueryRef.where('broker', '==', modifiedQuery);\n    }\n\n    // Initialize listing\n    const listingContainer = document.querySelector('#listingContainer');\n    const listingPagination = document.querySelector('#listingPagination');\n    const initializeListing = (type, order) => {\n      coorListing = [];\n\n      fbQueryRef\n        // .orderBy(type, order) // OrderBy should be rewritten\n        .get()\n        .then((res) => {\n          document.querySelector('#loadingSpinnerDiv').style.display = 'none';\n          rentListingDiv.style.display = 'flex';\n          listingContainer.innerHTML = '';\n          listingPagination.innerHTML = '';\n          maplisting.resize();\n\n          res.docs.map((el) => {\n            mapMarkerGenerator(el.data().coordinate);\n          });\n\n          // Initial listing data\n          // Filtered listing doesn't have 10 listings\n          // console.log(res.docs.length);\n\n          if (res.docs.length == 0) {\n            console.log('No Listings');\n          } else if (res.docs.length > 10) {\n            for (i = 0; i < 10; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          } else {\n            for (i = 0; i < res.docs.length; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          }\n\n          // if (currentURL == '') {\n          // } else {\n          //   for (i = 0; i < ; i++) {\n          //     makeListings(res.docs[i].data());\n          //     mapMarkerGenerator(res.docs[i].data().coordinate);\n          //   }\n          // }\n\n          mapHoverEffecter();\n\n          listingMove(10);\n\n          // Insert pagination\n          const totalNum = res.docs.length;\n          const pageNum = Math.ceil(totalNum / 10);\n          for (i = 0; i < pageNum; i++) {\n            listingPagination.innerHTML += `<p class=\"page-number\" data-page=\"${\n              i + 1\n            }\">${i + 1}</p>`;\n          }\n\n          // Pagination data call\n          const totalPage = document.querySelectorAll('.page-number');\n          totalPage[0].style.color = '#f78915';\n\n          // Listing refresher when pagination clicked\n          totalPage.forEach((page) => {\n            // When the pagination is clicked\n            page.addEventListener('click', (e) => {\n              listingContainer.innerHTML = '';\n              totalPage.forEach((el) => {\n                el.style.color = '#fff';\n              });\n              e.target.style.color = '#f78915';\n              let clickedCurrentPage = e.target.getAttribute('data-page');\n              let startingPoint = 10 * (clickedCurrentPage - 1);\n              let lastPageListingNumber = totalNum % 10;\n\n              if (clickedCurrentPage != pageNum) {\n                for (i = 0; i < 10; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              } else {\n                for (i = 0; i < lastPageListingNumber; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              }\n\n              e.target.style.color = '#f78915';\n              dateOrderBtn.scrollIntoView();\n              document\n                .querySelector('#rentMapContainer')\n                .classList.remove('rentStickyEle');\n\n              mapHoverEffecter();\n\n              listingMove(document.querySelectorAll('.rlCoorEl').length);\n            });\n          });\n        });\n    };\n\n    // Default listing\n    initializeListing('writetime', 'desc');\n\n    // Date filtered listing\n    const dateOrderBtn = document.querySelector('#timeOrder');\n    dateOrderBtn.addEventListener('click', () => {\n      initializeListing('date', 'asc');\n    });\n    // Price filtered listing\n    const priceOrderBtn = document.querySelector('#priceOrder');\n    priceOrderBtn.addEventListener('click', () => {\n      initializeListing('price', 'asc');\n    });\n\n    // Searchbar operator\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchPropTypeEl = document.querySelectorAll('.searchPropType');\n    const searchPrice = document.querySelectorAll('.searchPrice');\n    const searchLength = document.querySelectorAll('.searchLength');\n    const searchDate = document.querySelectorAll('.searchDate');\n    const searchBroker = document.querySelectorAll('.searchBroker');\n    const searchArea = document.querySelectorAll('.searchArea');\n    searchElSelector(searchPropTypeEl);\n    searchElSelector(searchPrice);\n    searchElSelector(searchLength);\n    searchElSelector(searchDate);\n    searchElSelector(searchBroker);\n    searchElSelector(searchArea);\n  });\n\n  // Map position while scrolling\n  const listingMove = (int) => {\n    const contactEle = document.querySelector('#rentMapContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#rentLocContainer');\n    const topLocEle = locEle.offsetTop;\n\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('rentStickyEle');\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle - 720)\n      ) {\n        contactEle.classList.add('rentStickyEle');\n        contactEle.style.top = '0px';\n        if ((window.innerWidth >= 768) & (window.innerWidth < 1024)) {\n          contactEle.style.right = `7vw`;\n          contactEle.style.width = `${window.innerWidth * 0.86 * 0.3}px`;\n          contactEle.style.height = '480px';\n        } else if ((window.innerWidth >= 1024) & (window.innerWidth < 1440)) {\n          contactEle.style.right = `7vw`;\n          contactEle.style.width = `${window.innerWidth * 0.86 * 0.34}px`;\n          contactEle.style.height = '640px';\n        } else if (window.innerWidth >= 1440) {\n          contactEle.style.right = `${window.innerWidth / 2 - 607}px`;\n          contactEle.style.width = '304px';\n          contactEle.style.height = '640px';\n        }\n      } else {\n        contactEle.style.top = `${topLocEle - window.pageYOffset - 720}px`;\n      }\n    };\n  };\n\n  // Convert price into string\n  const stringCon = (num) => {\n    const numst = String(num);\n    let numed = '';\n    if (numst > 3) {\n      for (i = 0; i < numst.length - 3; i++) {\n        numed += numst[i];\n      }\n      numed += ',';\n      for (i = numst.length - 3; i < numst.length; i++) {\n        numed += numst[i];\n      }\n    }\n    return numed;\n  };\n}\n","if (window.location.pathname === '/roommate/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    let currentStep = 0;\n    const rmQStep = document.querySelectorAll('.rm-question-step');\n\n    const fNBtn = document.querySelector('#rmFNBtn');\n    const rmNStep = document.querySelectorAll('.rmNextBtn');\n    rmNStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep < rmQStep.length - 1) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep++;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep > 0) {\n            fNBtn.style.display = 'none';\n            document.querySelector('#paginationBtnBox').style.display = 'block';\n          }\n          if (currentStep == 15) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'block';\n          }\n          if (currentStep == 16) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'none';\n          }\n        }\n      });\n    });\n    const rmPStep = document.querySelectorAll('.rmPreviousBtn');\n    rmPStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep > 0) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep--;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep == 0) {\n            fNBtn.style.display = 'block';\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n          }\n        }\n      });\n    });\n\n    const rmSubmitBtn = document.querySelector('#rmSubmitBtn');\n    let roommateCheckList = [];\n\n    const addData = (dt) => {\n      if (!dt.value) {\n        roommateCheckList.push('');\n      } else {\n        roommateCheckList.push(dt.value);\n      }\n    };\n\n    // Input Data\n    const appName = document.querySelector('#rmAppName');\n    const appContact = document.querySelector('#rmAppContact');\n    const appDate = document.querySelector('#rmAppDate');\n    const appArea = document.querySelector('#rmAppArea');\n    const appBudget = document.querySelector('#rmAppBudget');\n    const appSelect = document.querySelectorAll('.rm-radio-btn');\n\n    rmSubmitBtn.addEventListener('click', () => {\n      emailjs.init('user_hedHXP5BIDEBqSuAdRcOt');\n\n      addData(appName);\n      addData(appContact);\n      addData(appDate);\n      addData(appArea);\n      addData(appBudget);\n      appSelect.forEach((el) => {\n        if (el.checked) {\n          roommateCheckList.push(el.getAttribute('data-input'));\n        }\n      });\n\n      // Transfer to submit form\n      const submissionInputForm = document.querySelectorAll(\n        '.roommateSubmissionFormInput'\n      );\n      for (k = 0; k < roommateCheckList.length; k++) {\n        submissionInputForm[k].value = roommateCheckList[k];\n      }\n\n      const emailjsSubmission = document.querySelector(\n        '#roommateSubmissionForm'\n      );\n      emailjs.sendForm(\n        'service_g17icyc',\n        'template_v3ay8bh',\n        emailjsSubmission\n      );\n    });\n  });\n}\n","if (window.location.pathname === '/user-verify/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const auth = firebase.auth();\n    const db = firebase.firestore();\n    console.log('user-verify');\n\n    const backToMainPage = () => {\n      if (\n        /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n          navigator.userAgent\n        )\n      ) {\n        // Take the user to a different screen here.\n        window.location = '/mobile';\n      } else {\n        window.location = '/';\n      }\n    };\n\n    auth.onAuthStateChanged((user) => {\n      if (!user) {\n        backToMainPage();\n      } else {\n        document.querySelector('#verifyUsername').value = user.displayName;\n        document.querySelector('#verifyUsername').disabled = true;\n        document.querySelector('#verifyUsername').style.color = '#c0c0c0';\n        document.querySelector('#verifyEmail').value = user.email;\n        document.querySelector('#verifyEmail').disabled = true;\n        document.querySelector('#verifyEmail').style.color = '#c0c0c0';\n        db.collection('userInfo')\n          .doc(user.uid)\n          .get()\n          .then((res) => {\n            if (res.data().number && res.data().wechat) {\n              document.querySelector('#verifyNumber').value = res.data().number;\n              document.querySelector('#verifyNumber').disabled = true;\n              document.querySelector('#verifyNumber').style.color = '#c0c0c0';\n              document.querySelector('#verifyWeChat').value = res.data().wechat;\n              document.querySelector('#verifyWeChat').disabled = true;\n              document.querySelector('#verifyWeChat').style.color = '#c0c0c0';\n              document.querySelector('#verifyBtn').style.display = 'none';\n            } else {\n              console.log('no');\n            }\n          });\n        document.querySelector('#verifyBtn').addEventListener('click', () => {\n          // console.log('submit');\n          document.querySelector('#verifyBtn').innerHTML = ``;\n          document.querySelector('#verifyBtn').style.cursor = `wait`;\n          db.collection('userInfo')\n            .doc(user.uid)\n            .set({\n              username: user.displayName,\n              email: user.email,\n              number: document.querySelector('#verifyNumber').value,\n              wechat: document.querySelector('#verifyWeChat').value,\n              membership: '',\n            })\n            .then((res) => {\n              backToMainPage();\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        });\n        // Skip back to the main page\n        document\n          .querySelector('#skipToMainBtn')\n          .addEventListener('click', () => {\n            backToMainPage();\n          });\n      }\n    });\n  });\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcmu\"] = self[\"webpackChunkcmu\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["window","location","pathname","addEventListener","db","firebase","firestore","storage","auth","urlParams","URLSearchParams","search","myParam","get","subImgCont","document","querySelector","translateToChinese","fea","stringCon","num","numst","String","numed","i","length","collection","doc","then","res","style","display","innerHTML","data","title","querySelectorAll","forEach","el","price","description","features","origin","amenities","type","broker","console","log","pictures","src","setTimeout","subImgs","getAttribute","daddress","date","mapDetail","mapboxgl","Map","container","center","coordinate","zoom","addControl","NavigationControl","on","radius","options","steps","units","circle","turf","addSource","addLayer","id","source","paint","inquirySubmitForm","onAuthStateChanged","user","replace","proIn","timestamp","Date","writetime","uid","value","username","email","number","wechat","address","getMonth","getDate","getFullYear","getHours","getMinutes","emailjs","init","sendForm","catch","err","contactEle","stickyTopLoc","offsetTop","locEle","topLocEle","descEle","onscroll","pageYOffset","classList","remove","marginRight","add","top","right","backToMainPage","test","navigator","userAgent","signUpLogInDiv","userMenuDiv","userMenu","ddMenu","logOutBtn","signOut","logInEmail","logInPassword","logInBtn","signInWithEmailAndPassword","result","href","alert","e","key","resetEmailAddress","sendPasswordResetEmail","error","errorCode","code","errorMessage","message","signUpUsername","signUpEmail","signUpPassword","signUpPasswordCheck","signUpNumber","signUpWeChat","signUpAgreement","signUpBtn","checked","createUserWithEmailAndPassword","updateProfile","displayName","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","NYAreaConvertor","area","NYAreaInChinese","BOSAreaConvertor","BOSAreaInChinese","NYlistingRef","NYListingDiv","orderBy","limit","docs","map","BOSlistingRef","BOSListingDiv","queryString","selected","hotListingDiv","hotAreaDiv","HOTAreaCat","backgroundColor","children","color","includes","mobileMenu","mobileDDList","setAttribute","nonUserMenu","userLogOut","hder","fter","currentURL","currentParamsURL","NYRef","findParamKeyValue","str","getParamKey","where","searchElSelector","elGroup","params","target","delete","set","searchType","searchArea","searchPrice","fileterDiv","filterDivDetail","mobileTimeFilter","visibility","mobileAreaFilter","mobilePriceFilter","mobileListingCont","selectedCategory","mobileFrontCategory","underlineCategory","mobileFrontRentListingDiv","mobileFrontShorterm","mobileFrontRoommate","parentNode","mobileFooterMoreDefault","mobileFooterDetail","mobileFooterDetailMenu","opacity","listingRef","userRef","myListingDiv","mbMyListing","parseInt","substring","objPropBed","objPropBath","editDiv","deleteDiv","reload","userEmailInput","disabled","userName","mypageCateBtn","mypageSection","index","indexOf","ele","mobMypageCateBtn","maptest","marker1","Marker","setLngLat","addTo","newPostingObj","time","getTime","poster","pointMapCity","pointMapAddress","pointMapZip","searchMap","xmlhttp","XMLHttpRequest","addressReq1","replaceAll","addressReq","onreadystatechange","readyState","status","myArr","JSON","parse","responseText","place_name","corReqURL","open","send","coorCheck","setInterval","flyTo","essential","screenSpeed","undefined","clearInterval","pointArea","googleIframeDiv","regSubmitBtn","regCity","regArea","regTitle","regPrice","regType","regLength","regDate","regDateMonth","split","regContact","regFea","regAme","regDesc","regDAddress","regBrokerFee","xhr","JSONurl","onload","getResult","picOrder","j","order","push","path","validateInput","city","prop","regProp","dateMonth","contact","web","obj","Object","values","keys","getElementById","scrollIntoView","border","uploadListingInf","docName","maplisting","mapMarkerGenerator","coor","scale","makeListings","thumbnailPic","listingContainer","mapHoverEffecter","rentListingCard","rentListingDiv","fbQueryRef","modifiedQuery","listingPagination","initializeListing","coorListing","resize","listingMove","totalNum","pageNum","Math","ceil","totalPage","page","clickedCurrentPage","startingPoint","lastPageListingNumber","dateOrderBtn","priceOrderBtn","searchPropTypeEl","searchLength","searchDate","searchBroker","int","innerWidth","width","height","currentStep","rmQStep","fNBtn","rmNStep","rmPStep","rmSubmitBtn","roommateCheckList","addData","dt","appName","appContact","appDate","appArea","appBudget","appSelect","submissionInputForm","k","emailjsSubmission","cursor","membership"],"sourceRoot":""}