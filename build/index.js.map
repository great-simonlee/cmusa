{"version":3,"file":"index.js","mappings":"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,KAJ7C;YAKHwS,UAAU,EAAE;UALT,CAFP,EASGhW,IATH,CASSC,GAAD,IAAS;YACbuF,cAAc;UACf,CAXH,EAYGlB,KAZH,CAYUC,GAAD,IAAS;YACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ;UACD,CAdH;QAeD,CAnBD,EAvBK,CA2CL;;QACApF,QAAQ,CACLC,aADH,CACiB,gBADjB,EAEGb,gBAFH,CAEoB,OAFpB,EAE6B,MAAM;UAC/BiH,cAAc;QACf,CAJH;MAKD;IACF,CArDD;EAsDD,CAxED;AAyED;;;;;;;;;;;;AC1ED;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA;UACA","sources":["webpack://cmu/./src/index.js","webpack://cmu/./src/modules/detail.js","webpack://cmu/./src/modules/fbase.js","webpack://cmu/./src/modules/fbinit.js","webpack://cmu/./src/modules/front.js","webpack://cmu/./src/modules/genListing.js","webpack://cmu/./src/modules/header.js","webpack://cmu/./src/modules/mobile/mobile.js","webpack://cmu/./src/modules/mypage.js","webpack://cmu/./src/modules/register.js","webpack://cmu/./src/modules/rent.js","webpack://cmu/./src/modules/rmMatching.js","webpack://cmu/./src/modules/verify.js","webpack://cmu/./assets/css/style.css","webpack://cmu/webpack/bootstrap","webpack://cmu/webpack/runtime/chunk loaded","webpack://cmu/webpack/runtime/compat get default export","webpack://cmu/webpack/runtime/define property getters","webpack://cmu/webpack/runtime/hasOwnProperty shorthand","webpack://cmu/webpack/runtime/make namespace object","webpack://cmu/webpack/runtime/jsonp chunk loading","webpack://cmu/webpack/before-startup","webpack://cmu/webpack/startup","webpack://cmu/webpack/after-startup"],"sourcesContent":["// CSS\nimport '../assets/css/style.css';\n\n// JS\nimport '../src/modules/fbinit.js';\nimport '../src/modules/fbase.js';\nimport '../src/modules/front.js';\nimport '../src/modules/mypage.js';\nimport '../src/modules/rmMatching';\nimport '../src/modules/genListing.js';\nimport '../src/modules/register.js';\nimport '../src/modules/header.js';\nimport '../src/modules/detail.js';\nimport '../src/modules/rent.js';\nimport '../src/modules/verify.js';\n\n// Mobile\nimport '../src/modules/mobile/mobile.js';\n","if (window.location.pathname === '/detail/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const myParam = urlParams.get('li');\n\n    const subImgCont = document.querySelector('#detailSubImgCont');\n\n    const translateToChinese = (fea) => {\n      switch (fea) {\n        case 'Washer':\n          return '';\n          break;\n        case 'Dryer':\n          return '';\n          break;\n        case 'Dishwasher':\n          return '';\n          break;\n        case 'AC':\n          return '';\n          break;\n        case 'Rangehood':\n          return '';\n          break;\n        case 'Balcony':\n          return '';\n          break;\n        case 'Concierge':\n          return '24h';\n          break;\n        case 'Gym':\n          return '';\n          break;\n        case 'Lounge':\n          return 'Lobby';\n          break;\n        case 'Elevator':\n          return '';\n          break;\n        case 'Garage':\n          return '/';\n          break;\n        case 'PetFriendly':\n          return '';\n          break;\n        case 'RooftopDeck':\n          return '';\n          break;\n        case 'LaundryRoom':\n          return '';\n          break;\n        case 'Basketball':\n          return '';\n          break;\n        case 'BBQ':\n          return 'BBQ';\n          break;\n        case 'Billiard':\n          return '';\n          break;\n        case 'Golf':\n          return '';\n          break;\n        case 'Kitchen':\n          return '';\n          break;\n        case 'Pool':\n          return '';\n          break;\n        case 'Tennis':\n          return '';\n          break;\n        case 'Theater':\n          return '';\n          break;\n        case 'Wifi':\n          return '';\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    db.collection('rentListing')\n      .doc(myParam)\n      .get()\n      .then((res) => {\n        document.querySelector('#detailLoadingSpinnerDiv').style.display =\n          'none';\n        document.querySelector('#detailContDiv').style.display = 'flex';\n\n        document.querySelector('#detailTitle').innerHTML = res.data().title;\n        document.querySelectorAll('.detailPrice').forEach((el) => {\n          el.innerHTML = stringCon(res.data().price);\n        });\n        document.querySelector('#detailDescription').innerHTML =\n          res.data().description;\n\n        res.data().features.forEach((fea) => {\n          document.querySelector('#detailFeatures').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/uploads/2022/09/${fea}.png\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        res.data().amenities.forEach((fea) => {\n          document.querySelector('#detailAmenities').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/uploads/2022/09/${fea}.png\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        document.querySelectorAll('.detailBed').forEach((el) => {\n          el.innerHTML = res.data().type[0];\n        });\n        document.querySelectorAll('.detailBath').forEach((el) => {\n          el.innerHTML = res.data().type[2];\n        });\n        document.querySelectorAll('.detailBroker').forEach((el) => {\n          el.innerHTML = res.data().broker;\n        });\n        document.querySelector(\n          '#detailMainImg'\n        ).src = `https://drive.google.com/uc?export=view&id=${\n          res.data().pictures[0]\n        }`;\n\n        let picArray = [];\n        for (i = 0; i < res.data().pictures.length; i++) {\n          subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${\n            res.data().pictures[i]\n          }\" alt=\"subImg${i}\">`;\n          picArray.push(res.data().pictures[i]);\n        }\n\n        setTimeout(() => {\n          const subImgs = document.querySelectorAll('.subImg');\n          subImgs.forEach((el) => {\n            el.addEventListener('mouseover', () => {\n              document.querySelector('#detailMainImg').src = `${el.getAttribute(\n                'src'\n              )}`;\n            });\n          });\n        }, 1000);\n\n        document.querySelectorAll('.detailLength').forEach((el) => {\n          el.innerHTML = res.data().length;\n        });\n        document.querySelectorAll('.detailAddress').forEach((el) => {\n          el.innerHTML = res.data().daddress;\n        });\n        document.querySelectorAll('.detailDate').forEach((el) => {\n          el.innerHTML = res.data().date;\n        });\n\n        var mapDetail = new mapboxgl.Map({\n          container: 'mapDetailDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',   F3bYaVhsckVIwgNKTH6zAA3xwnA31659716256469\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: res.data().coordinate,\n          zoom: 13,\n        });\n\n        mapDetail.addControl(new mapboxgl.NavigationControl());\n\n        mapDetail.on('load', () => {\n          const center = res.data().coordinate;\n          const radius = 0.5;\n          const options = {\n            steps: 35,\n            units: 'kilometers',\n          };\n          const circle = turf.circle(center, radius, options);\n\n          mapDetail.addSource('circleData', {\n            type: 'geojson',\n            data: circle,\n          });\n\n          // add a layer that displays the data   F3bYaVhsckVIwgNKTH6zAA3xwnA31659715927129\n          mapDetail.addLayer({\n            id: 'circle-fill',\n            type: 'fill',\n            source: 'circleData',\n            paint: {\n              'fill-color': '#f78915',\n              // 'fill-color': '#000',\n              'fill-opacity': 0.5,\n            },\n          });\n        });\n\n        // ssssssss\n        document\n          .querySelector('#detailContactUsNow')\n          .addEventListener('click', () => {\n            document.querySelector('#detailContactUsNow').style.display =\n              'none';\n            document.querySelector('#detailContactUsNowLS').style.display =\n              'block';\n\n            const inquirySubmitForm =\n              document.querySelector('#inquirySubmitForm');\n\n            auth.onAuthStateChanged((user) => {\n              if (!user) {\n                window.location.replace('/member-login');\n              } else {\n                var proIn = res.data();\n                const timestamp = new Date(res.data().writetime);\n\n                db.collection('userInfo')\n                  .doc(user.uid)\n                  .get()\n                  .then((res) => {\n                    proIn['request'] = res.data();\n                    document.querySelector('#inquiryUsername').value =\n                      res.data().username;\n                    document.querySelector('#inquiryEmail').value =\n                      res.data().email;\n                    document.querySelector('#inquiryNumber').value =\n                      res.data().number;\n                    document.querySelector('#inquiryWeChat').value =\n                      res.data().wechat;\n                  });\n\n                document.querySelector('#inquiryTitle').value =\n                  res.data().title;\n                document.querySelector('#inquiryAddress').value =\n                  res.data().address;\n                document.querySelector('#inquiryType').value = res.data().type;\n                document.querySelector('#inquiryPrice').value =\n                  res.data().price;\n                document.querySelector('#inquiryDate').value = res.data().date;\n                document.querySelector('#inquiryTime').value = `${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}`;\n                // document.querySelector('#inquiry').value =\n                // document.querySelector('#inquiry').value =\n\n                setTimeout(() => {\n                  emailjs.init('user_02aBegGFQaEbfNQTDpYLP');\n\n                  emailjs\n                    .sendForm(\n                      'service_un17shn',\n                      'template_gjvuym4',\n                      inquirySubmitForm\n                    )\n                    .then(() => {\n                      // console.log();\n                      document.querySelector(\n                        '#detailContactUsNowLS'\n                      ).style.display = 'none';\n                      document.querySelector(\n                        '#inquirySubmissionMsg'\n                      ).style.display = 'flex';\n                    });\n\n                  // emailjs.sendForm(\n                  //   'service_un17shn',\n                  //   'template_gjvuym4',\n                  //   inquirySubmitForm\n                  // );\n                }, 1000);\n              }\n            });\n          });\n\n        document\n          .querySelector('#mbdetailContactUsNow')\n          .addEventListener('click', () => {\n            document.querySelector('#mbdetailContactUsNow').style.display =\n              'none';\n            document.querySelector('#mbdetailContactUsNowLS').style.display =\n              'block';\n\n            const inquirySubmitForm =\n              document.querySelector('#inquirySubmitForm');\n\n            auth.onAuthStateChanged((user) => {\n              if (!user) {\n                window.location.replace('/member-login');\n              } else {\n                var proIn = res.data();\n                const timestamp = new Date(res.data().writetime);\n\n                db.collection('userInfo')\n                  .doc(user.uid)\n                  .get()\n                  .then((res) => {\n                    proIn['request'] = res.data();\n                    document.querySelector('#inquiryUsername').value =\n                      res.data().username;\n                    document.querySelector('#inquiryEmail').value =\n                      res.data().email;\n                    document.querySelector('#inquiryNumber').value =\n                      res.data().number;\n                    document.querySelector('#inquiryWeChat').value =\n                      res.data().wechat;\n                  });\n\n                document.querySelector('#inquiryTitle').value =\n                  res.data().title;\n                document.querySelector('#inquiryAddress').value =\n                  res.data().address;\n                document.querySelector('#inquiryType').value = res.data().type;\n                document.querySelector('#inquiryPrice').value =\n                  res.data().price;\n                document.querySelector('#inquiryDate').value = res.data().date;\n                document.querySelector('#inquiryTime').value = `${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}`;\n                // document.querySelector('#inquiry').value =\n                // document.querySelector('#inquiry').value =\n\n                document.querySelector(\n                  '#mbdetailContactUsNowLS'\n                ).style.display = 'none';\n                document.querySelector(\n                  '#mbinquirySubmissionMsg'\n                ).style.display = 'flex';\n\n                // setTimeout(() => {\n                //   emailjs.init('user_02aBegGFQaEbfNQTDpYLP');\n\n                //   emailjs\n                //     .sendForm(\n                //       'service_un17shn',\n                //       'template_gjvuym4',\n                //       inquirySubmitForm\n                //     )\n                //     .then(() => {\n                //       // console.log();\n                //       document.querySelector(\n                //         '#mbdetailContactUsNowLS'\n                //       ).style.display = 'none';\n                //       document.querySelector(\n                //         '#mbinquirySubmissionMsg'\n                //       ).style.display = 'flex';\n                //     });\n\n                //   // emailjs.sendForm(\n                //   //   'service_un17shn',\n                //   //   'template_gjvuym4',\n                //   //   inquirySubmitForm\n                //   // );\n                // }, 1000);\n              }\n            });\n          });\n\n        //////\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const contactEle = document.querySelector('#infoContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#locContainer');\n    const topLocEle = locEle.offsetTop;\n    const descEle = document.querySelector('#descContainer');\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('stickyEle');\n        descEle.style.marginRight = '0px';\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle)\n      ) {\n        contactEle.classList.add('stickyEle');\n        contactEle.style.top = '96px';\n        contactEle.style.right = '14.6vw';\n        descEle.style.marginRight = '264px';\n      } else if (window.pageYOffset > topLocEle) {\n        contactEle.style.top = `${topLocEle - window.pageYOffset + 96}px`;\n      } else {\n        contactEle.classList.remove('stickyEle');\n      }\n    };\n\n    // document\n    //   .querySelector('#detailContactUsNow')\n    //   .addEventListener('click', () => {\n    //     console.log('hello');\n    //     document.querySelector('#detailContactActive').style.display = 'flex';\n    //   });\n\n    // document.querySelector('#closeModalBtn').addEventListener('click', () => {\n    //   document.querySelector('#detailContactActive').style.display = 'none';\n    // });\n\n    // auth.onAuthStateChanged((user) => {\n    //   if (user) {\n    //     document.querySelector('#contactUsNowName').value = user.displayName;\n    //     document.querySelector('#contactUsNowEmail').value = user.email;\n    //     // console.log(user);\n    //     db.collection('userInfo')\n    //       .doc(user.uid)\n    //       .get()\n    //       .then((res) => {\n    //         document.querySelector('#contactUsNowNumber').value =\n    //           res.data().number;\n    //         document.querySelector('#contactUsNowWeChat').value =\n    //           res.data().wechat;\n    //       });\n    //   }\n    // });\n  });\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const auth = firebase.auth();\n\n  const backToMainPage = () => {\n    if (\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n        navigator.userAgent\n      )\n    ) {\n      // Take the user to a different screen here.\n      window.location = '/mobile';\n    } else {\n      window.location = '/';\n    }\n  };\n\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      const signUpLogInDiv = document.querySelector('#signUpLogInDiv');\n      const userMenuDiv = document.querySelector('#userMenuDiv');\n      const userMenu = document.querySelector('#userMenu');\n      const ddMenu = document.querySelector('#dd-menu-cont');\n      const logOutBtn = document.querySelector('#logOutBtn');\n      signUpLogInDiv.style.display = 'none';\n      userMenuDiv.style.display = 'flex';\n\n      userMenu.addEventListener('click', () => {\n        if (ddMenu.style.display == 'none') {\n          ddMenu.style.display = 'flex';\n        } else {\n          ddMenu.style.display = 'none';\n        }\n      });\n\n      logOutBtn.addEventListener('click', () => {\n        auth.signOut();\n        signUpLogInDiv.style.display = 'flex';\n        userMenuDiv.style.display = 'none';\n      });\n\n      if (window.location.pathname === '/member-login/') {\n        backToMainPage();\n      }\n\n      if (window.location.pathname === '/member-signup/') {\n        document.location.href = '/user-verify';\n      }\n    } else {\n      if (window.location.pathname === '/member-login/') {\n        const logInEmail = document.querySelector('#logInEmail');\n        const logInPassword = document.querySelector('#logInPassword');\n\n        const logInBtn = document.querySelector('#logInBtn');\n        logInBtn.addEventListener('click', () => {\n          auth\n            .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n            .then((result) => {\n              // location.reload();\n              document.location.href = '/';\n              // console.log(auth.currentUser);\n            })\n            .catch((err) => {\n              window.alert(err);\n            });\n        });\n        logInPassword.addEventListener('keypress', function (e) {\n          if (e.key === 'Enter') {\n            auth\n              .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n              .then((result) => {\n                backToMainPage();\n              })\n              .catch((err) => {\n                window.alert(err);\n              });\n          }\n        });\n        document.querySelector('#resetPWbtn').addEventListener('click', () => {\n          console.log('forgot PW?');\n          document.querySelector('#logInBox').style.display = 'none';\n          document.querySelector('#forgotBtnBox').style.display = 'none';\n          document.querySelector('#logInBtn').style.display = 'none';\n          document.querySelector('#resetPWBox').style.display = 'flex';\n          document\n            .querySelector('#forgotEmailSubmitBtn')\n            .addEventListener('click', () => {\n              const resetEmailAddress =\n                document.querySelector('#resetPWEmail').value;\n              auth\n                .sendPasswordResetEmail(resetEmailAddress)\n                .then((res) => {\n                  console.log(res);\n                  console.log('Email sent');\n                  document.querySelector('#resetPWMsg').style.display = 'block';\n                  document.querySelector(\n                    '#forgotEmailSubmitBtn'\n                  ).style.display = 'none';\n                })\n                .catch((error) => {\n                  var errorCode = error.code;\n                  var errorMessage = error.message;\n                });\n            });\n        });\n        document.querySelector('#backToLogIn').addEventListener('click', () => {\n          document.querySelector('#logInBox').style.display = 'block';\n          document.querySelector('#forgotBtnBox').style.display = 'flex';\n          document.querySelector('#logInBtn').style.display = 'block';\n          document.querySelector('#resetPWBox').style.display = 'none';\n        });\n      }\n      if (window.location.pathname === '/member-signup/') {\n        const signUpUsername = document.querySelector('#signUpUsername');\n        const signUpEmail = document.querySelector('#signUpEmail');\n        const signUpPassword = document.querySelector('#signUpPassword');\n        const signUpPasswordCheck = document.querySelector(\n          '#signUpPasswordCheck'\n        );\n        const signUpNumber = document.querySelector('#signUpNumber');\n        const signUpWeChat = document.querySelector('#signUpWeChat');\n        const signUpAgreement = document.querySelector('#userAgreement');\n\n        const signUpBtn = document.querySelector('#signUpBtn');\n        signUpBtn.addEventListener('click', () => {\n          console.log('Clicked');\n          if (signUpPassword.value != signUpPasswordCheck.value) {\n            window.alert('Please check the password again');\n          } else {\n            // Display the passwords are different\n            if (!signUpAgreement.checked) {\n              window.alert('Please check the user agreement');\n            } else {\n              auth\n                .createUserWithEmailAndPassword(\n                  signUpEmail.value,\n                  signUpPassword.value\n                )\n                .then((result) => {\n                  result.user\n                    .updateProfile({\n                      displayName: signUpUsername.value,\n                    })\n                    .then(() => {\n                      window.location = '/user-verify';\n                    });\n                })\n                .catch((err) => {\n                  window.alert(err.message);\n                });\n              console.log('Checked');\n            }\n          }\n        });\n      }\n\n      if (window.location.pathname === '/mypage/') {\n        backToMainPage();\n      }\n    }\n  });\n});\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//     auth.onAuthStateChanged((user) => {\n//       if (!user) {\n//       } else {\n//         // document.location.href = '/';\n//         console.log(user);\n//         setTimeout(() => {\n//           console.log(user);\n//         }, 2000);\n//       }\n//     });\n//   });\n// }\n\n// if (window.location.pathname === '/member-signup/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//   });\n// }\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     console.log('login');\n//   });\n// }\n\n// auth\n//   .createUserWithEmailAndPassword(signUpEmail.value, signUpPassword.value)\n//   .then((result) => {\n//     result.user.updateProfile({\n//       displayName: signUpUsername.value,\n//     });\n//     // location.reload();\n//     result.user\n//       .sendEmailVerification()\n//       .then(() => {\n//         window.alert(\n//           '          .'\n//         );\n//         veriBtnLSOff();\n//       })\n//       .catch((err) => {\n//         console.error(err.message);\n//         veriBtnLSOff();\n//       });\n//   })\n//   .catch((err) => {\n//     console.error(err.message);\n//     window.alert(err.message);\n//     veriBtnLSOff();\n//   });\n","window.addEventListener('DOMContentLoaded', () => {\n  const firebaseConfig = {\n    apiKey: 'AIzaSyDAjXdbYphJwzZ9mUDFsTWBQDz81xh9opA',\n    authDomain: 'koreamovesusa.firebaseapp.com',\n    projectId: 'koreamovesusa',\n    storageBucket: 'koreamovesusa.appspot.com',\n    messagingSenderId: '171734962463',\n    appId: '1:171734962463:web:12ef0531328c38b2e2e02a',\n    measurementId: 'G-KFFWZ5Q1SY',\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  // const db = firebase.firestore();\n  // const storage = firebase.storage();\n  // const auth = firebase.auth();\n});\n","if (window.location.pathname === '/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    const NYAreaConvertor = (area) => {\n      let NYAreaInChinese;\n\n      switch (area) {\n        case 'uptown':\n          NYAreaInChinese = '--';\n          break;\n        case 'midtown':\n          NYAreaInChinese = '--';\n          break;\n        case 'downtown':\n          NYAreaInChinese = '--';\n          break;\n        case 'lic':\n          NYAreaInChinese = '-';\n          break;\n        case 'queens':\n          NYAreaInChinese = '-';\n          break;\n        case 'flushing':\n          NYAreaInChinese = '-';\n          break;\n        case 'brooklyn':\n          NYAreaInChinese = '-';\n          break;\n        case 'bronx':\n          NYAreaInChinese = '-';\n          break;\n        case 'etc':\n          NYAreaInChinese = '-';\n          break;\n\n        default:\n          break;\n      }\n\n      return NYAreaInChinese;\n    };\n\n    const BOSAreaConvertor = (area) => {\n      let BOSAreaInChinese;\n\n      switch (area) {\n        case 'allston':\n          BOSAreaInChinese = '-';\n          break;\n        case 'backbay':\n          BOSAreaInChinese = '-';\n          break;\n        case 'brighton':\n          BOSAreaInChinese = '-';\n          break;\n        case 'brookline':\n          BOSAreaInChinese = '-';\n          break;\n        case 'cambridge':\n          BOSAreaInChinese = '-';\n          break;\n        case 'downtown':\n          BOSAreaInChinese = '-';\n          break;\n        case 'fenway':\n          BOSAreaInChinese = '-';\n          break;\n        case 'northend':\n          BOSAreaInChinese = '-';\n          break;\n        case 'malden':\n          BOSAreaInChinese = '-';\n          break;\n        case 'southend':\n          BOSAreaInChinese = '-';\n          break;\n        case 'somerville':\n          BOSAreaInChinese = '-';\n          break;\n        case 'etc':\n          BOSAreaInChinese = '-';\n          break;\n\n        default:\n          break;\n      }\n\n      return BOSAreaInChinese;\n    };\n\n    const NYlistingRef = db.collection('rentListing');\n    const NYListingDiv = document.querySelector('#NYListingDiv');\n    NYlistingRef.orderBy('writetime', 'asc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        NYListingDiv.style.display = 'grid';\n        res.docs.map((el) => {\n          // console.log(el.data());\n          NYListingDiv.innerHTML += `\n            <a class=\"frontToListing\" href=\"/detail/?li=${el.data().uid}${\n            el.data().writetime\n          }\" target=\"blank\">\n              <div class=\"main-rent-card\">\n                <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                  el.data().pictures[0]\n                }\" alt=\"rentExample\">\n                <div class=\"main-rent-info\">\n                  <div>\n                    <p class=\"main-rent-title\">${el.data().title}</p>\n                    <p class=\"main-rent-city\">${NYAreaConvertor(\n                      el.data().area\n                    )}</p>\n                    <p class=\"main-rent-term\">${el.data().length}</p>\n                  </div>\n                  <div class=\"main-rent-price\"><p>$ ${stringCon(\n                    el.data().price\n                  )}/</p></div>\n                </div>\n              </div>\n            </a>`;\n        });\n        document.querySelector('#frontPreLoading').style.display = 'none';\n      });\n\n    const BOSlistingRef = db.collection('bostonListing');\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        const BOSListingDiv = document.querySelector('#BOSListingDiv');\n        res.docs.map((el) => {\n          BOSListingDiv.innerHTML += `\n            <div class=\"main-rent-card\">\n              <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                el.data().pictures[0]\n              }\" alt=\"rentExample\">\n              <div class=\"main-rent-info\">\n                <div>\n                  <p class=\"main-rent-title\">${el.data().title}</p>\n                  <p class=\"main-rent-city\">${BOSAreaConvertor(\n                    el.data().area\n                  )}</p>\n                  <p class=\"main-rent-term\">${el.data().length}</p>\n                </div>\n                <div class=\"main-rent-price\"><p>$ ${stringCon(\n                  el.data().price\n                )}/</p></div>\n              </div>\n            </div>`;\n        });\n      });\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(6)\n      .get()\n      .then((res) => {\n        res.docs.map((el) => {\n          // console.log(el.data());\n        });\n      });\n\n    document.querySelector('#mainSearchBtn').addEventListener('click', () => {\n      let queryString = '?';\n      document.querySelectorAll('.mainSearchSelectOption').forEach((el) => {\n        if (el.selected) {\n          if (queryString.length == 1) {\n            queryString += el.value;\n          } else {\n            queryString += '&' + el.value;\n          }\n        }\n      });\n      window.location = '/rent/' + queryString;\n    });\n\n    const hotListingDiv = document.querySelector('#frontHotListing');\n    const hotAreaDiv = document.querySelector('#frontHotArea');\n    const HOTAreaCat = document.querySelector('#HOTAreaCat');\n    hotListingDiv.addEventListener('click', () => {\n      hotAreaDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotAreaDiv.children[0].style.color = '#fff';\n      hotListingDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotListingDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'grid';\n      HOTAreaCat.style.display = 'none';\n    });\n    hotAreaDiv.addEventListener('click', () => {\n      hotListingDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotListingDiv.children[0].style.color = '#fff';\n      hotAreaDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotAreaDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'none';\n      HOTAreaCat.style.display = 'grid';\n    });\n  });\n}\n","if (window.location.pathname.includes('genlisting')) {\n  console.log(' THIS IS THE PLACE');\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const mobileMenu = document.querySelector('#mobileDropDownMenuIcon');\n  const mobileDDList = document.querySelector('#mobile-dd-detail');\n  mobileMenu.addEventListener('click', () => {\n    if (mobileMenu.getAttribute('menu-active') == 0) {\n      mobileMenu.setAttribute('menu-active', 1);\n      mobileDDList.style.display = 'flex';\n    } else {\n      mobileMenu.setAttribute('menu-active', 0);\n      mobileDDList.style.display = 'none';\n    }\n  });\n\n  const auth = firebase.auth();\n  const db = firebase.firestore();\n  const userMenu = document.querySelectorAll('.member-menu');\n  const nonUserMenu = document.querySelectorAll('.non-member-menu');\n  const userLogOut = document.querySelector('#mobile-dd-logout');\n\n  auth.onAuthStateChanged((user) => {\n    if (!user) {\n      userMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'block';\n      });\n    } else {\n      userMenu.forEach((el) => {\n        el.style.display = 'flex';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      userLogOut.addEventListener('click', () => {\n        auth.signOut();\n      });\n    }\n  });\n});\n","if (window.location.pathname === '/mobile/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const hder = document.querySelector('#gnav');\n    const fter = document.querySelector('#gfter');\n    hder.style.display = 'none';\n    fter.style.display = 'none';\n\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    // URL Param variables\n    const currentURL = window.location.search;\n    const currentParamsURL = new URLSearchParams(currentURL);\n\n    var NYRef = db.collection('rentListing');\n\n    // Mobile Filter Section\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#mob${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#mob${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    if (currentParamsURL.get('area')) {\n      NYRef = NYRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      NYRef = NYRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          NYRef = NYRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          NYRef = NYRef.where('price', '>=', '1000');\n          NYRef = NYRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          NYRef = NYRef.where('price', '>=', '2000');\n          NYRef = NYRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          NYRef = NYRef.where('price', '>=', '3000');\n          NYRef = NYRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          NYRef = NYRef.where('price', '>=', '4000');\n          NYRef = NYRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          NYRef = NYRef.where('price', '>=', '5000');\n          NYRef = NYRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          NYRef = NYRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchType = document.querySelectorAll('.mobSearchType');\n    const searchArea = document.querySelectorAll('.mobSearchArea');\n    const searchPrice = document.querySelectorAll('.mobSearchPrice');\n    searchElSelector(searchType);\n    searchElSelector(searchArea);\n    searchElSelector(searchPrice);\n\n    const fileterDiv = document.querySelector('#mobileFilterDiv');\n    const filterDivDetail = document.querySelectorAll('.mb-filter-item-detail');\n    const mobileTimeFilter = document.querySelector('#mobile-filter-time');\n    mobileTimeFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[0].style.visibility = 'visible';\n    });\n    const mobileAreaFilter = document.querySelector('#mobile-filter-area');\n    mobileAreaFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[1].style.visibility = 'visible';\n    });\n    const mobilePriceFilter = document.querySelector('#mobile-filter-price');\n    mobilePriceFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[2].style.visibility = 'visible';\n    });\n\n    // Actual Listing Showing\n    const mobileListingCont = document.querySelector('#mobileListingCont');\n    NYRef.limit(10)\n      .get()\n      .then((res) => {\n        // Mobile LS Disappear\n        document.querySelector('#mobileFrontLoadingSpinnerDiv').style.display =\n          'none';\n        res.docs.map((doc) => {\n          mobileListingCont.innerHTML += `\n          <a class=\"mobileListingAnchor\" href=\"/detail/?li=${doc.data().uid}${\n            doc.data().writetime\n          }\">\n            <div class=\"mb-card\">\n              <img class=\"mb-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                doc.data().pictures[0]\n              }\" alt=\"CMMobileListingImg\">\n              <div class=\"mb-card-desc\">\n                <p class=\"mbc-desc-title\">${doc.data().title}</p>\n                <p class=\"mbc-desc-content\"> JP 1b1b  1600/   4/7-8/7 <br> ${\n                  doc.data().daddress\n                }</p>\n                <p class=\"mbc-desc-price\">$ ${stringCon(\n                  doc.data().price\n                )}/</p>\n              </div>\n            </div>\n          </a>`;\n        });\n      });\n\n    //\n    var selectedCategory;\n    const mobileFrontCategory = document.querySelectorAll(\n      '.mb-menu-category-item'\n    );\n    const underlineCategory = document.querySelectorAll(\n      '.mb-menu-category-selected'\n    );\n    const mobileFrontRentListingDiv = document.querySelector(\n      '#mb-front-rentListing'\n    );\n    const mobileFrontShorterm = document.querySelector('#mb-front-shortterm');\n    const mobileFrontRoommate = document.querySelector('#mb-front-roommate');\n\n    mobileFrontCategory.forEach((el) => {\n      // el.style.color = '#c9c9c9';\n      el.addEventListener('click', (e) => {\n        e.target.style.color = '#000';\n        selectedCategory = e.target.getAttribute('cate-index');\n\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          e.target.parentNode.children[i].style.color = '#c9c9c9';\n        }\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          underlineCategory[i].style.visibility = 'hidden';\n        }\n        underlineCategory[selectedCategory].style.visibility = 'visible';\n        e.target.parentNode.children[selectedCategory].style.color = '#000';\n\n        if (selectedCategory == 0) {\n          mobileFrontRentListingDiv.style.display = 'block';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 1) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'block';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 2) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'block';\n        }\n      });\n    });\n\n    const mobileFooterMoreDefault = document.querySelector(\n      '#mobileFooterMoreDefault'\n    );\n    const mobileFooterDetail = document.querySelector('#mobileFooterDetail');\n    const mobileFooterDetailMenu = document.querySelector(\n      '#mobileFooterDetailMenu'\n    );\n    mobileFooterMoreDefault.addEventListener('click', () => {\n      console.log('more btn');\n      mobileFooterMoreDefault.style.display = 'none';\n      mobileFooterDetail.style.display = 'flex';\n      mobileFooterDetailMenu.style.visibility = 'visible';\n      mobileFooterDetailMenu.style.opacity = '1';\n    });\n    mobileFooterDetail.addEventListener('click', () => {\n      console.log('detail');\n      mobileFooterMoreDefault.style.display = 'flex';\n      mobileFooterDetail.style.display = 'none';\n      mobileFooterDetailMenu.style.visibility = 'hidden';\n      mobileFooterDetailMenu.style.opacity = '0';\n    });\n    //\n  });\n}\n","if (window.location.pathname === '/mypage/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const auth = firebase.auth();\n    auth.onAuthStateChanged((user) => {\n      if (!user) {\n        if (\n          /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n            navigator.userAgent\n          )\n        ) {\n          // Take the user to a different screen here.\n          window.location = '/mobile';\n        } else {\n          window.location.replace('/');\n        }\n      } else {\n        const db = firebase.firestore();\n        const uid = user.uid;\n        const listingRef = db.collection('rentListing');\n        const userRef = db.collection('userInfo');\n\n        const myListingDiv = document.querySelector('#myListingDiv');\n        const mbMyListing = document.querySelector('#mbMyListing');\n\n        listingRef\n          .where('uid', '==', uid)\n          .get()\n          .then((res) => {\n            res.docs.map((el) => {\n              // console.log(el.data());\n              const timestamp = new Date(\n                parseInt(String(el.data().writetime).substring(0, 13))\n              );\n\n              if (el.data().type == 'studio') {\n                var objPropBed = 'Studio';\n                var objPropBath = '1 Bath';\n              } else {\n                var objPropBed = el.data().type[0] + ' Bed';\n                var objPropBath = el.data().type[2] + ' Bath';\n              }\n\n              myListingDiv.innerHTML += `\n                <div class=\"myp-lising-card\">\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"_blank\">\n                    <div class=\"myp-card-left\">\n                      <img class=\"myp-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                        el.data().pictures[0]\n                      }\">\n                      <div class=\"myp-card-img-desc\">\n                        <div class=\"myp-card-type\">\n                          <p>${objPropBed}</p>\n                          <p>${objPropBath}</p>\n                        </div>\n                        <div class=\"myp-card-price\">$ ${\n                          el.data().price\n                        }/</div>\n                      </div>\n                    </div>\n                  </a>\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"blank\">\n                    <div class=\"myp-card-desc\">\n                      <div class=\"myp-card-detail\">\n                        <p>${el.data().title}</p>\n                        <p>${el.data().length}</p>\n                        <p>${el.data().date}</p>\n                        <p>${\n                          timestamp.getMonth() + 1\n                        }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class=\"myp-card-editdelete\">\n                    <i class=\"fa fa-pencil-square-o editdelete\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;</span></i>\n                    <i class=\"fa fa-trash-o editdelete deleteDiv\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;</span></i>\n                  </div>\n                </div>\n              `;\n\n              mbMyListing.innerHTML += `\n              <div class=\"mb-mypage-card\">\n                <a href=\"/detail/?li=${el.data().uid}${el.data().writetime}\">\n                  <div class=\"mb-mypage-card-cont\">\n                    <img class=\"mb-mypage-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                      el.data().pictures[0]\n                    }\">\n                    <div class=\"mb-mypage-card-desc\">\n                      <p class=\"mb-mypage-card-title\">${el.data().title}</p>\n                      <div class=\"mb-mypage-card-info\">\n                        <p>${objPropBed}</p>\n                        <p>${objPropBath}</p>\n                        <p>$ ${el.data().price}/</p>\n                      </div>\n                    </div>\n                  </div>\n                </a>\n                <div class=\"mb-mypage-card-editdelete\">\n                  <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n                  <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\n                </div>\n              </div>\n              `;\n            });\n\n            // Edit and Delete btn activation\n            const editDiv = document.querySelectorAll('.editDiv');\n            editDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                console.log('edit');\n                console.log(el.getAttribute('data-search'));\n              });\n            });\n            const deleteDiv = document.querySelectorAll('.deleteDiv');\n            deleteDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                listingRef\n                  .doc(el.getAttribute('data-search'))\n                  .delete()\n                  .then(() => {\n                    console.log('Successfully deleted');\n                    location.reload();\n                  })\n                  .catch((err) => {\n                    console.log(err);\n                  });\n              });\n            });\n          });\n        userRef\n          .doc(uid)\n          .get()\n          .then((res) => {\n            const userEmailInput = document.querySelector('#mpEmail');\n            userEmailInput.style.color = '#fff';\n            userEmailInput.value = res.data().email;\n            userEmailInput.disabled = true;\n            const userName = document.querySelector('#mpUsername');\n            userName.style.color = '#fff';\n            userName.value = res.data().username;\n            userName.disabled = true;\n            const userPhone = document.querySelector('#mpPhone');\n            userPhone.style.color = '#fff';\n            userPhone.value = res.data().number;\n            userPhone.disabled = true;\n            const userWechat = document.querySelector('#mpWeixin');\n            userWechat.style.color = '#fff';\n            userWechat.value = res.data().wechat;\n            userWechat.disabled = true;\n          });\n      }\n    });\n\n    const mypageCateBtn = document.querySelectorAll('.mpcat-item');\n    const mypageSection = document.querySelectorAll('.mypage-section');\n\n    mypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mypageCateBtn[index].style.color = '#fff';\n        mypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mypageCateBtn[2].style.color = '#fff';\n      mypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n\n    const mobMypageCateBtn = document.querySelectorAll('.mob-mpcat-item');\n\n    mobMypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mobMypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mobMypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mobMypageCateBtn[index].style.color = '#fff';\n        mobMypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mobMypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mobMypageCateBtn[2].style.color = '#fff';\n      mobMypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n  });\n}\n","if (window.location.pathname === '/register/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    // firebase\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        // mapbox\n        var maptest = new mapboxgl.Map({\n          container: 'maptestDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: [121.5003576, 31.2185876],\n          zoom: 12,\n        });\n\n        maptest.addControl(new mapboxgl.NavigationControl());\n\n        const marker1 = new mapboxgl.Marker({\n          color: '#b40219',\n        })\n          .setLngLat([121.5003576, 31.2185876])\n          .addTo(maptest);\n\n        const newPostingObj = { features: [], amenities: [], address: '' };\n\n        const uid = user.uid;\n        const time = new Date().getTime();\n        const poster = user.email;\n        // console.log(uid);\n        // console.log(time);\n\n        const pointMapCity = document.querySelector('#rq-city');\n        const pointMapAddress = document.querySelector('#rq-address');\n        const pointMapZip = document.querySelector('#rq-zip');\n        pointMapAddress.addEventListener('focusout', () => {\n          marker1.remove();\n\n          console.log('work?');\n          const searchMap = String(\n            pointMapAddress.value +\n              ', ' +\n              pointMapCity.value +\n              ', ' +\n              pointMapZip.value +\n              'united states'\n          );\n\n          if (pointMapAddress.value != '') {\n            // LONGITUDE AND LATITUTDE\n            const xmlhttp = new XMLHttpRequest();\n            let addressReq1 = searchMap.replaceAll(',', '');\n            let addressReq = addressReq1.replaceAll(' ', '%20');\n            console.log(addressReq);\n            xmlhttp.onreadystatechange = function () {\n              if (this.readyState == 4 && this.status == 200) {\n                var myArr = JSON.parse(this.responseText);\n                newPostingObj.address = myArr.features[0].place_name;\n                newPostingObj.coordinate = myArr.features[0].center;\n              }\n            };\n            const corReqURL = `https://api.mapbox.com/geocoding/v5/mapbox.places/${addressReq}.json?access_token=pk.eyJ1IjoiZ3JlYXQtc2ltb25sZWUiLCJhIjoiY2t6b2szZ2U5NjA0ZjJwdHZiY3Q1OHNtcyJ9.qdLhsMCScxxfzT9CYywRUQ`;\n            xmlhttp.open('GET', corReqURL, true);\n            xmlhttp.send();\n\n            const coorCheck = setInterval(() => {\n              maptest.flyTo({\n                center: newPostingObj.coordinate,\n                essential: true,\n                screenSpeed: 3,\n              });\n\n              const marker1 = new mapboxgl.Marker({\n                color: '#b40219',\n              })\n                .setLngLat(newPostingObj.coordinate)\n                .addTo(maptest);\n\n              if (newPostingObj.coordinate != undefined) {\n                clearInterval(coorCheck);\n              }\n            }, 500);\n          }\n        });\n\n        const pointArea = document.querySelector('#rq-area');\n        pointMapCity.addEventListener('focusout', () => {\n          // console.log(pointArea.children.length);\n          switch (pointMapCity.value) {\n            case 'newyork':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n              <option value=\"downtown\" map-point=\"\">-(Downtown)</option>\n              <option value=\"midtown\" map-point=\"\">-(Midtown)</option>\n              <option value=\"uptown\" map-point=\"\">-(Uptown)</option>\n              <option value=\"lic\" map-point=\"\">(LIC)</option>\n              <option value=\"queens\" map-point=\"\">(Queens)</option>\n              <option value=\"flushing\" map-point=\"\">(Flushing)</option>\n              <option value=\"brooklyn\" map-point=\"\">(Brooklyn)</option>\n              <option value=\"bronx\" map-point=\"\">(Bronx)</option>\n              <option value=\"etc\" map-point=\"\"></option>\n              `;\n              break;\n            case 'boston':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                <option value=\"allston\" map-point=\"\">(Allston)</option>\n                <option value=\"backbay\" map-point=\"\">(Back Bay)</option>\n                <option value=\"brighton\" map-point=\"\">(Brighton)</option>\n                <option value=\"brookline\" map-point=\"\">(Brookline)</option>\n                <option value=\"cambridge\" map-point=\"\">(Cambridge)</option>\n                <option value=\"downtown\" map-point=\"\">(Downtown)</option>\n                <option value=\"fenway\" map-point=\"\">(Fenway)</option>\n                <option value=\"northend\" map-point=\"\">(North End)</option>\n                <option value=\"malden\" map-point=\"\">(Malden)</option>\n                <option value=\"southend\" map-point=\"\">(South End)</option>\n                <option value=\"somerville\" map-point=\"\">(Somerville)</option>\n                <option value=\"etc\" map-point=\"\"></option>\n                `;\n              break;\n            case 'newjersey':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                  <option value=\"\" map-point=\"\">(Edison)</option>\n                  <option value=\"\" map-point=\"\">(Montgomery)</option>\n                  <option value=\"\" map-point=\"\">(Princeton)</option>\n                  <option value=\"\" map-point=\"\">(West Windsor)</option>\n                  <option value=\"\" map-point=\"\">(Plainsboro)</option>\n                  <option value=\"\" map-point=\"\">(Paramus)</option>\n                  <option value=\"\" map-point=\"\">(Fort Lee)</option>\n                  <option value=\"\" map-point=\"\">(Secaucus)</option>\n                  <option value=\"\" map-point=\"\">(Jersey City)</option>\n                  <option value=\"\" map-point=\"\">(West New York)</option>\n                  <option value=\"\" map-point=\"\">(Union City)</option>\n                  <option value=\"\" map-point=\"\">(Hoboken)</option>\n                  <option value=\"Etc\" map-point=\"\"></option>\n                  `;\n              break;\n          }\n        });\n\n        // Google scripts iframe\n        const googleIframeDiv = document.querySelector('#googleIframeDiv');\n        googleIframeDiv.innerHTML = `<iframe id=\"reg-ifr\" src=\"\n        https://script.google.com/macros/s/AKfycbxXw1TdvVmWiy1wwhrafKsFWoMHtICEkKIIfNVonlZHO_v14TXt43C_ThqqURpQiYj24g/exec?usr=${uid}&time=${time}\" frameborder=\"0\" style=\"width: 100%; height: 400px; background-color: #0f0f0f;\"></iframe>`;\n\n        const regSubmitBtn = document.querySelector('#regSubmitBtn');\n\n        const regCity = document.querySelector('#rq-city');\n        const regArea = document.querySelector('#rq-area');\n        const regTitle = document.querySelector('#rq-title');\n        const regPrice = document.querySelector('#rq-price');\n        const regType = document.querySelector('#rq-type');\n        const regLength = document.querySelector('#rq-length');\n        const regDate = document.querySelector('#rq-movdate');\n        const regDateMonth = document.querySelector('#rq-movdate').split('-');\n        const regContact = document.querySelector('#rq-contact');\n        const regFea = document.querySelectorAll('.rq-fea');\n        const regAme = document.querySelectorAll('.rq-ame');\n        const regDesc = document.querySelector('#rq-desc');\n        const regDAddress = document.querySelector('#rq-dAddress');\n        const regBrokerFee = document.querySelector('#rq-broker');\n\n        regSubmitBtn.addEventListener('click', () => {\n          const xhr = new XMLHttpRequest();\n          // const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=F3bYaVhsckVIwgNKTH6zAA3xwnA3&time=1659711629275`;\n          const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=${uid}&time=${time}`;\n          xhr.open('GET', JSONurl, true);\n          xhr.onload = function () {\n            const getResult = JSON.parse(xhr.responseText);\n            const picOrder = [];\n            for (i = 0; i < getResult.length; i++) {\n              for (j = 0; j < getResult.length; j++) {\n                if (i == getResult[j].order) {\n                  picOrder.push(getResult[j].path);\n                }\n              }\n            }\n            newPostingObj.pictures = picOrder;\n\n            validateInput(newPostingObj);\n          };\n          xhr.send();\n\n          newPostingObj.city = regCity.value;\n          newPostingObj.area = regArea.value;\n          newPostingObj.prop = regProp.value;\n          newPostingObj.title = regTitle.value;\n          newPostingObj.price = regPrice.value;\n          newPostingObj.type = regType.value;\n          newPostingObj.length = regLength.value;\n          newPostingObj.date = regDate.value;\n          newPostingObj.dateMonth = regDateMonth[1];\n          newPostingObj.contact = regContact.value;\n          newPostingObj.description = regDesc.value;\n          newPostingObj.uid = uid;\n          newPostingObj.writetime = time;\n          newPostingObj.web = 'cm';\n          newPostingObj.daddress = regDAddress.value;\n          newPostingObj.broker = regBrokerFee.value;\n          newPostingObj.poster = poster;\n\n          regFea.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.features.push(el.getAttribute('data-input'));\n            }\n          });\n          regAme.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.amenities.push(el.getAttribute('data-input'));\n            }\n          });\n        });\n\n        const validateInput = (obj) => {\n          console.log(obj);\n          for (i = 0; i < Object.values(obj).length; i++) {\n            if (Object.values(obj)[i] === '') {\n              switch (Object.keys(obj)[i]) {\n                case 'address':\n                  document.getElementById('rq-address').scrollIntoView();\n                  document.getElementById('rq-address').style.border =\n                    'red solid 3px';\n                  break;\n                case 'prop':\n                  document.getElementById('rq-city').scrollIntoView();\n                  document.getElementById('rq-city').style.border =\n                    'red solid 3px';\n                  break;\n                case 'title':\n                  document.getElementById('rq-title').scrollIntoView();\n                  document.getElementById('rq-title').style.border =\n                    'red solid 3px';\n                  break;\n                case 'price':\n                  document.getElementById('rq-price').scrollIntoView();\n                  document.getElementById('rq-price').style.border =\n                    'red solid 3px';\n                  break;\n                case 'type':\n                  document.getElementById('rq-type').scrollIntoView();\n                  document.getElementById('rq-type').style.border =\n                    'red solid 3px';\n                  break;\n                case 'length':\n                  document.getElementById('rq-length').scrollIntoView();\n                  document.getElementById('rq-length').style.border =\n                    'red solid 3px';\n                  break;\n                case 'date':\n                  document.getElementById('rq-movdate').scrollIntoView();\n                  document.getElementById('rq-movdate').style.border =\n                    'red solid 3px';\n                  break;\n                case 'contact':\n                  document.getElementById('rq-contact').scrollIntoView();\n                  document.getElementById('rq-contact').style.border =\n                    'red solid 3px';\n                  break;\n                case 'description':\n                  document.getElementById('rq-desc').scrollIntoView();\n                  document.getElementById('rq-desc').style.border =\n                    'red solid 3px';\n                  break;\n                case 'daddress':\n                  document.getElementById('rq-dAddress').scrollIntoView();\n                  document.getElementById('rq-dAddress').style.border =\n                    'red solid 3px';\n                  break;\n              }\n            } else {\n              uploadListingInf(newPostingObj);\n            }\n          }\n        };\n\n        const uploadListingInf = (obj) => {\n          const docName = String(uid) + String(time);\n\n          // console.log(docName);\n          // console.log(obj);\n\n          // access the db\n          db.collection('rentListing')\n            .doc(docName)\n            .set(obj)\n            .then((result) => {\n              // TEXT TO SPINNER OR VICE VERSA\n              console.log(result);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        };\n      } else {\n        document.location.href = '/member-login';\n      }\n    });\n  });\n}\n","if (window.location.pathname === '/rent/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    // Initialize map\n    var maplisting = new mapboxgl.Map({\n      container: 'rentListingMap',\n      // style: 'mapbox://styles/mapbox/streets-v11',\n      style: 'mapbox://styles/mapbox/dark-v10',\n      center: ['-73.98917', '40.74358'],\n      zoom: 12,\n    });\n\n    const db = firebase.firestore();\n\n    // Map marker generator\n    const mapMarkerGenerator = (coor) => {\n      const marker1 = new mapboxgl.Marker({\n        color: '#f78915',\n        scale: '0.7',\n      })\n        .setLngLat(coor)\n        .addTo(maplisting);\n    };\n\n    // Making listings\n    const makeListings = (obj) => {\n      // console.log(obj.address);\n      // console.log(parseInt(String(obj.writetime).substring(0, 12)));\n      const timestamp = new Date(\n        parseInt(String(obj.writetime).substring(0, 13))\n      );\n      // const writeTimeStampTemp = new Date(obj.writetime);\n      // const strTimeStamp = obj.writetime.substring(0, 12);\n      // console.log(strTimeStamp);\n      // const timestamp = new Date(strTimeStamp);\n      // const writeTimeStamp = String(writeTimeStampTemp).slice(0, 9);\n      if (obj.type == 'studio') {\n        var objPropBed = 'Studio';\n        var objPropBath = '1 Bathroom';\n      } else {\n        var objPropBed = obj.type[0] + ' Bedroom';\n        var objPropBath = obj.type[2] + ' Bathroom';\n      }\n      listingContainer.innerHTML += `\n        <a class=\"rlCoorEl\" href=\"/detail/?li=${obj.uid}${\n        obj.writetime\n      }\" target=\"blank\">\n          <div class=\"rl-card\" data-coor=\"${obj.coordinate}\">\n            <div class=\"rl-card-cont\">\n              <img class=\"rl-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                obj.pictures[0]\n              }\">\n              <div class=\"rl-card-info\">\n                <div class=\"rlc-info-text\">\n                  <p>${objPropBed}</p>\n                  <p>${objPropBath}</p>\n                </div>\n                <p>$ ${obj.price}/Month</p>\n              </div>\n            </div>\n            <div class=\"rl-card-desc\">\n              <h4>${obj.title}</h4>\n              <div>\n                <p>${obj['length']}</p>\n                <p>${obj.date}</p>\n                <p>${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n              </div>\n            </div>\n          </div>\n        </a>`;\n    };\n\n    // Listing card hover map effect\n    const mapHoverEffecter = () => {\n      const rentListingCard = document.querySelectorAll('.rl-card');\n      for (i = 0; i < rentListingCard.length; i++) {\n        rentListingCard[i].addEventListener('mouseenter', (e) => {\n          maplisting.flyTo({\n            center: e.target.getAttribute('data-coor').split(','),\n            essential: true,\n            screenSpeed: 5,\n          });\n        });\n      }\n    };\n\n    // Search initial query colorizer\n    const rentListingDiv = document.querySelector('#rentListingDiv');\n    const currentURL = window.location.search;\n    // console.log(currentURL);\n    const currentParamsURL = new URLSearchParams(currentURL);\n    // console.log(currentParamsURL.get('type'));\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('length');\n      findParamKeyValue('date');\n      findParamKeyValue('broker');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    var fbQueryRef = db.collection('rentListing');\n\n    if (currentParamsURL.get('area')) {\n      fbQueryRef = fbQueryRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      fbQueryRef = fbQueryRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          fbQueryRef = fbQueryRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          fbQueryRef = fbQueryRef.where('price', '>=', '1000');\n          fbQueryRef = fbQueryRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          fbQueryRef = fbQueryRef.where('price', '>=', '2000');\n          fbQueryRef = fbQueryRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          fbQueryRef = fbQueryRef.where('price', '>=', '3000');\n          fbQueryRef = fbQueryRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          fbQueryRef = fbQueryRef.where('price', '>=', '4000');\n          fbQueryRef = fbQueryRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '5000');\n          fbQueryRef = fbQueryRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n    if (currentParamsURL.get('length')) {\n      if (currentParamsURL.get('length') == '12') {\n        // fbQueryRef = fbQueryRef.where('length', '==', '1');\n        fbQueryRef = fbQueryRef.where('length', '==', '12');\n      } else {\n        fbQueryRef = fbQueryRef.where(\n          'length',\n          '==',\n          currentParamsURL.get('length')\n        );\n      }\n    }\n    if (currentParamsURL.get('date')) {\n      fbQueryRef = fbQueryRef.where(\n        'dateMonth',\n        '==',\n        parseInt(currentParamsURL.get('date'))\n      );\n    }\n    if (currentParamsURL.get('broker')) {\n      const modifiedQuery = currentParamsURL.get('broker').replaceAll('z', ' ');\n      fbQueryRef = fbQueryRef.where('broker', '==', modifiedQuery);\n    }\n\n    // Initialize listing\n    const listingContainer = document.querySelector('#listingContainer');\n    const listingPagination = document.querySelector('#listingPagination');\n    const initializeListing = (type, order) => {\n      coorListing = [];\n\n      fbQueryRef\n        // .orderBy(type, order) // OrderBy should be rewritten\n        .get()\n        .then((res) => {\n          document.querySelector('#loadingSpinnerDiv').style.display = 'none';\n          rentListingDiv.style.display = 'flex';\n          listingContainer.innerHTML = '';\n          listingPagination.innerHTML = '';\n          maplisting.resize();\n\n          res.docs.map((el) => {\n            mapMarkerGenerator(el.data().coordinate);\n          });\n\n          // Initial listing data\n          // Filtered listing doesn't have 10 listings\n          // console.log(res.docs.length);\n\n          if (res.docs.length == 0) {\n            console.log('No Listings');\n          } else if (res.docs.length > 10) {\n            for (i = 0; i < 10; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          } else {\n            for (i = 0; i < res.docs.length; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          }\n\n          // if (currentURL == '') {\n          // } else {\n          //   for (i = 0; i < ; i++) {\n          //     makeListings(res.docs[i].data());\n          //     mapMarkerGenerator(res.docs[i].data().coordinate);\n          //   }\n          // }\n\n          mapHoverEffecter();\n\n          listingMove(10);\n\n          // Insert pagination\n          const totalNum = res.docs.length;\n          const pageNum = Math.ceil(totalNum / 10);\n          for (i = 0; i < pageNum; i++) {\n            listingPagination.innerHTML += `<p class=\"page-number\" data-page=\"${\n              i + 1\n            }\">${i + 1}</p>`;\n          }\n\n          // Pagination data call\n          const totalPage = document.querySelectorAll('.page-number');\n          totalPage[0].style.color = '#f78915';\n\n          // Listing refresher when pagination clicked\n          totalPage.forEach((page) => {\n            // When the pagination is clicked\n            page.addEventListener('click', (e) => {\n              listingContainer.innerHTML = '';\n              totalPage.forEach((el) => {\n                el.style.color = '#fff';\n              });\n              e.target.style.color = '#f78915';\n              let clickedCurrentPage = e.target.getAttribute('data-page');\n              let startingPoint = 10 * (clickedCurrentPage - 1);\n              let lastPageListingNumber = totalNum % 10;\n\n              if (clickedCurrentPage != pageNum) {\n                for (i = 0; i < 10; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              } else {\n                for (i = 0; i < lastPageListingNumber; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              }\n\n              e.target.style.color = '#f78915';\n              dateOrderBtn.scrollIntoView();\n              document\n                .querySelector('#rentMapContainer')\n                .classList.remove('rentStickyEle');\n\n              mapHoverEffecter();\n\n              listingMove(document.querySelectorAll('.rlCoorEl').length);\n            });\n          });\n        });\n    };\n\n    // Default listing\n    initializeListing('writetime', 'desc');\n\n    // Date filtered listing\n    const dateOrderBtn = document.querySelector('#timeOrder');\n    dateOrderBtn.addEventListener('click', () => {\n      initializeListing('date', 'asc');\n    });\n    // Price filtered listing\n    const priceOrderBtn = document.querySelector('#priceOrder');\n    priceOrderBtn.addEventListener('click', () => {\n      initializeListing('price', 'asc');\n    });\n\n    // Searchbar operator\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchPropTypeEl = document.querySelectorAll('.searchPropType');\n    const searchPrice = document.querySelectorAll('.searchPrice');\n    const searchLength = document.querySelectorAll('.searchLength');\n    const searchDate = document.querySelectorAll('.searchDate');\n    const searchBroker = document.querySelectorAll('.searchBroker');\n    const searchArea = document.querySelectorAll('.searchArea');\n    searchElSelector(searchPropTypeEl);\n    searchElSelector(searchPrice);\n    searchElSelector(searchLength);\n    searchElSelector(searchDate);\n    searchElSelector(searchBroker);\n    searchElSelector(searchArea);\n  });\n\n  // Map position while scrolling\n  const listingMove = (int) => {\n    const contactEle = document.querySelector('#rentMapContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#rentLocContainer');\n    const topLocEle = locEle.offsetTop;\n\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('rentStickyEle');\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle - 720)\n      ) {\n        contactEle.classList.add('rentStickyEle');\n        contactEle.style.top = '0px';\n        if ((window.innerWidth >= 768) & (window.innerWidth < 1024)) {\n          contactEle.style.right = `7vw`;\n          contactEle.style.width = `${window.innerWidth * 0.86 * 0.3}px`;\n          contactEle.style.height = '480px';\n        } else if ((window.innerWidth >= 1024) & (window.innerWidth < 1440)) {\n          contactEle.style.right = `7vw`;\n          contactEle.style.width = `${window.innerWidth * 0.86 * 0.34}px`;\n          contactEle.style.height = '640px';\n        } else if (window.innerWidth >= 1440) {\n          contactEle.style.right = `${window.innerWidth / 2 - 607}px`;\n          contactEle.style.width = '304px';\n          contactEle.style.height = '640px';\n        }\n      } else {\n        contactEle.style.top = `${topLocEle - window.pageYOffset - 720}px`;\n      }\n    };\n  };\n\n  // Convert price into string\n  const stringCon = (num) => {\n    const numst = String(num);\n    let numed = '';\n    if (numst > 3) {\n      for (i = 0; i < numst.length - 3; i++) {\n        numed += numst[i];\n      }\n      numed += ',';\n      for (i = numst.length - 3; i < numst.length; i++) {\n        numed += numst[i];\n      }\n    }\n    return numed;\n  };\n}\n","if (window.location.pathname === '/roommate/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    let currentStep = 0;\n    const rmQStep = document.querySelectorAll('.rm-question-step');\n\n    const fNBtn = document.querySelector('#rmFNBtn');\n    const rmNStep = document.querySelectorAll('.rmNextBtn');\n    rmNStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep < rmQStep.length - 1) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep++;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep > 0) {\n            fNBtn.style.display = 'none';\n            document.querySelector('#paginationBtnBox').style.display = 'block';\n          }\n          if (currentStep == 15) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'block';\n          }\n          if (currentStep == 16) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'none';\n          }\n        }\n      });\n    });\n    const rmPStep = document.querySelectorAll('.rmPreviousBtn');\n    rmPStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep > 0) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep--;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep == 0) {\n            fNBtn.style.display = 'block';\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n          }\n        }\n      });\n    });\n\n    const rmSubmitBtn = document.querySelector('#rmSubmitBtn');\n    let roommateCheckList = [];\n\n    const addData = (dt) => {\n      if (!dt.value) {\n        roommateCheckList.push('');\n      } else {\n        roommateCheckList.push(dt.value);\n      }\n    };\n\n    // Input Data\n    const appName = document.querySelector('#rmAppName');\n    const appContact = document.querySelector('#rmAppContact');\n    const appDate = document.querySelector('#rmAppDate');\n    const appArea = document.querySelector('#rmAppArea');\n    const appBudget = document.querySelector('#rmAppBudget');\n    const appSelect = document.querySelectorAll('.rm-radio-btn');\n\n    rmSubmitBtn.addEventListener('click', () => {\n      emailjs.init('user_hedHXP5BIDEBqSuAdRcOt');\n\n      addData(appName);\n      addData(appContact);\n      addData(appDate);\n      addData(appArea);\n      addData(appBudget);\n      appSelect.forEach((el) => {\n        if (el.checked) {\n          roommateCheckList.push(el.getAttribute('data-input'));\n        }\n      });\n\n      // Transfer to submit form\n      const submissionInputForm = document.querySelectorAll(\n        '.roommateSubmissionFormInput'\n      );\n      for (k = 0; k < roommateCheckList.length; k++) {\n        submissionInputForm[k].value = roommateCheckList[k];\n      }\n\n      const emailjsSubmission = document.querySelector(\n        '#roommateSubmissionForm'\n      );\n      emailjs.sendForm(\n        'service_g17icyc',\n        'template_v3ay8bh',\n        emailjsSubmission\n      );\n    });\n  });\n}\n","if (window.location.pathname === '/user-verify/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const auth = firebase.auth();\n    const db = firebase.firestore();\n    console.log('user-verify');\n\n    const backToMainPage = () => {\n      if (\n        /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n          navigator.userAgent\n        )\n      ) {\n        // Take the user to a different screen here.\n        window.location = '/mobile';\n      } else {\n        window.location = '/';\n      }\n    };\n\n    auth.onAuthStateChanged((user) => {\n      if (!user) {\n        backToMainPage();\n      } else {\n        document.querySelector('#verifyUsername').value = user.displayName;\n        document.querySelector('#verifyUsername').disabled = true;\n        document.querySelector('#verifyUsername').style.color = '#c0c0c0';\n        document.querySelector('#verifyEmail').value = user.email;\n        document.querySelector('#verifyEmail').disabled = true;\n        document.querySelector('#verifyEmail').style.color = '#c0c0c0';\n        db.collection('userInfo')\n          .doc(user.uid)\n          .get()\n          .then((res) => {\n            if (res.data().number && res.data().wechat) {\n              document.querySelector('#verifyNumber').value = res.data().number;\n              document.querySelector('#verifyNumber').disabled = true;\n              document.querySelector('#verifyNumber').style.color = '#c0c0c0';\n              document.querySelector('#verifyWeChat').value = res.data().wechat;\n              document.querySelector('#verifyWeChat').disabled = true;\n              document.querySelector('#verifyWeChat').style.color = '#c0c0c0';\n              document.querySelector('#verifyBtn').style.display = 'none';\n            } else {\n              console.log('no');\n            }\n          });\n        document.querySelector('#verifyBtn').addEventListener('click', () => {\n          // console.log('submit');\n          document.querySelector('#verifyBtn').innerHTML = ``;\n          document.querySelector('#verifyBtn').style.cursor = `wait`;\n          db.collection('userInfo')\n            .doc(user.uid)\n            .set({\n              username: user.displayName,\n              email: user.email,\n              number: document.querySelector('#verifyNumber').value,\n              wechat: document.querySelector('#verifyWeChat').value,\n              membership: '',\n            })\n            .then((res) => {\n              backToMainPage();\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        });\n        // Skip back to the main page\n        document\n          .querySelector('#skipToMainBtn')\n          .addEventListener('click', () => {\n            backToMainPage();\n          });\n      }\n    });\n  });\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcmu\"] = self[\"webpackChunkcmu\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["window","location","pathname","addEventListener","db","firebase","firestore","storage","auth","urlParams","URLSearchParams","search","myParam","get","subImgCont","document","querySelector","translateToChinese","fea","stringCon","num","numst","String","numed","i","length","collection","doc","then","res","style","display","innerHTML","data","title","querySelectorAll","forEach","el","price","description","features","origin","amenities","type","broker","src","pictures","picArray","push","setTimeout","subImgs","getAttribute","daddress","date","mapDetail","mapboxgl","Map","container","center","coordinate","zoom","addControl","NavigationControl","on","radius","options","steps","units","circle","turf","addSource","addLayer","id","source","paint","inquirySubmitForm","onAuthStateChanged","user","replace","proIn","timestamp","Date","writetime","uid","value","username","email","number","wechat","address","getMonth","getDate","getFullYear","getHours","getMinutes","emailjs","init","sendForm","catch","err","console","log","contactEle","stickyTopLoc","offsetTop","locEle","topLocEle","descEle","onscroll","pageYOffset","classList","remove","marginRight","add","top","right","backToMainPage","test","navigator","userAgent","signUpLogInDiv","userMenuDiv","userMenu","ddMenu","logOutBtn","signOut","href","logInEmail","logInPassword","logInBtn","signInWithEmailAndPassword","result","alert","e","key","resetEmailAddress","sendPasswordResetEmail","error","errorCode","code","errorMessage","message","signUpUsername","signUpEmail","signUpPassword","signUpPasswordCheck","signUpNumber","signUpWeChat","signUpAgreement","signUpBtn","checked","createUserWithEmailAndPassword","updateProfile","displayName","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","NYAreaConvertor","area","NYAreaInChinese","BOSAreaConvertor","BOSAreaInChinese","NYlistingRef","NYListingDiv","orderBy","limit","docs","map","BOSlistingRef","BOSListingDiv","queryString","selected","hotListingDiv","hotAreaDiv","HOTAreaCat","backgroundColor","children","color","includes","mobileMenu","mobileDDList","setAttribute","nonUserMenu","userLogOut","hder","fter","currentURL","currentParamsURL","NYRef","findParamKeyValue","str","getParamKey","where","searchElSelector","elGroup","params","target","delete","set","searchType","searchArea","searchPrice","fileterDiv","filterDivDetail","mobileTimeFilter","visibility","mobileAreaFilter","mobilePriceFilter","mobileListingCont","selectedCategory","mobileFrontCategory","underlineCategory","mobileFrontRentListingDiv","mobileFrontShorterm","mobileFrontRoommate","parentNode","mobileFooterMoreDefault","mobileFooterDetail","mobileFooterDetailMenu","opacity","listingRef","userRef","myListingDiv","mbMyListing","parseInt","substring","objPropBed","objPropBath","editDiv","deleteDiv","reload","userEmailInput","disabled","userName","userPhone","userWechat","mypageCateBtn","mypageSection","index","indexOf","ele","mobMypageCateBtn","maptest","marker1","Marker","setLngLat","addTo","newPostingObj","time","getTime","poster","pointMapCity","pointMapAddress","pointMapZip","searchMap","xmlhttp","XMLHttpRequest","addressReq1","replaceAll","addressReq","onreadystatechange","readyState","status","myArr","JSON","parse","responseText","place_name","corReqURL","open","send","coorCheck","setInterval","flyTo","essential","screenSpeed","undefined","clearInterval","pointArea","googleIframeDiv","regSubmitBtn","regCity","regArea","regTitle","regPrice","regType","regLength","regDate","regDateMonth","split","regContact","regFea","regAme","regDesc","regDAddress","regBrokerFee","xhr","JSONurl","onload","getResult","picOrder","j","order","path","validateInput","city","prop","regProp","dateMonth","contact","web","obj","Object","values","keys","getElementById","scrollIntoView","border","uploadListingInf","docName","maplisting","mapMarkerGenerator","coor","scale","makeListings","listingContainer","mapHoverEffecter","rentListingCard","rentListingDiv","fbQueryRef","modifiedQuery","listingPagination","initializeListing","coorListing","resize","listingMove","totalNum","pageNum","Math","ceil","totalPage","page","clickedCurrentPage","startingPoint","lastPageListingNumber","dateOrderBtn","priceOrderBtn","searchPropTypeEl","searchLength","searchDate","searchBroker","int","innerWidth","width","height","currentStep","rmQStep","fNBtn","rmNStep","rmPStep","rmSubmitBtn","roommateCheckList","addData","dt","appName","appContact","appDate","appArea","appBudget","appSelect","submissionInputForm","k","emailjsSubmission","cursor","membership"],"sourceRoot":""}