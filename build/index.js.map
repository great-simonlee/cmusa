{"version":3,"file":"index.js","mappings":"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,QAAR,CACE,iBADF,EAEE,kBAFF,EAGED,iBAHF;IAKD,CA9BD;EA+BD,CA5FD;AA6FD;;;;;;;;;;;;ACtGD;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA;UACA","sources":["webpack://cmu/./src/index.js","webpack://cmu/./src/modules/detail.js","webpack://cmu/./src/modules/fbase.js","webpack://cmu/./src/modules/fbinit.js","webpack://cmu/./src/modules/front.js","webpack://cmu/./src/modules/genListing.js","webpack://cmu/./src/modules/header.js","webpack://cmu/./src/modules/mobile/mobile.js","webpack://cmu/./src/modules/mypage.js","webpack://cmu/./src/modules/register.js","webpack://cmu/./src/modules/rent.js","webpack://cmu/./src/modules/rmMatching.js","webpack://cmu/./assets/css/style.css","webpack://cmu/webpack/bootstrap","webpack://cmu/webpack/runtime/chunk loaded","webpack://cmu/webpack/runtime/compat get default export","webpack://cmu/webpack/runtime/define property getters","webpack://cmu/webpack/runtime/hasOwnProperty shorthand","webpack://cmu/webpack/runtime/make namespace object","webpack://cmu/webpack/runtime/jsonp chunk loading","webpack://cmu/webpack/before-startup","webpack://cmu/webpack/startup","webpack://cmu/webpack/after-startup"],"sourcesContent":["// CSS\nimport '../assets/css/style.css';\n\n// JS\nimport '../src/modules/fbinit.js';\nimport '../src/modules/fbase.js';\nimport '../src/modules/front.js';\nimport '../src/modules/mypage.js';\nimport '../src/modules/rmMatching';\nimport '../src/modules/genListing.js';\nimport '../src/modules/register.js';\nimport '../src/modules/header.js';\nimport '../src/modules/detail.js';\nimport '../src/modules/rent.js';\n\n// Mobile\nimport '../src/modules/mobile/mobile.js';\n","if (window.location.pathname === '/detail/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const myParam = urlParams.get('li');\n\n    const subImgCont = document.querySelector('#detailSubImgCont');\n\n    const translateToChinese = (fea) => {\n      switch (fea) {\n        case 'Washer':\n          return '洗衣机';\n          break;\n        case 'Dryer':\n          return '烘干机';\n          break;\n        case 'Dishwasher':\n          return '洗碗机';\n          break;\n        case 'AC':\n          return '空调';\n          break;\n        case 'Rangehood':\n          return '抽油烟机';\n          break;\n        case 'Balcony':\n          return '阳台';\n          break;\n        case 'Concierge':\n          return '24h门卫';\n          break;\n        case 'Gym':\n          return '健身房';\n          break;\n        case 'Lounge':\n          return 'Lobby';\n          break;\n        case 'Elevator':\n          return '电梯';\n          break;\n        case 'Garage':\n          return '车库/车位';\n          break;\n        case 'PetFriendly':\n          return '宠物友好';\n          break;\n        case 'RooftopDeck':\n          return '景观露台';\n          break;\n        case 'LaundryRoom':\n          return '洗衣房';\n          break;\n        case 'Basketball':\n          return '篮球场';\n          break;\n        case 'BBQ':\n          return 'BBQ';\n          break;\n        case 'Billiard':\n          return '台球场';\n          break;\n        case 'Golf':\n          return '高尔夫';\n          break;\n        case 'Kitchen':\n          return '公用厨房';\n          break;\n        case 'Pool':\n          return '泳池';\n          break;\n        case 'Tennis':\n          return '网球场';\n          break;\n        case 'Theater':\n          return '观影室';\n          break;\n        case 'Wifi':\n          return '公共无线网';\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    db.collection('rentListing')\n      .doc(myParam)\n      .get()\n      .then((res) => {\n        document.querySelector('#detailLoadingSpinnerDiv').style.display =\n          'none';\n        document.querySelector('#detailContDiv').style.display = 'flex';\n\n        document.querySelector('#detailTitle').innerHTML = res.data().title;\n        document.querySelectorAll('.detailPrice').forEach((el) => {\n          el.innerHTML = stringCon(res.data().price);\n        });\n        document.querySelector('#detailDescription').innerHTML =\n          res.data().description;\n\n        res.data().features.forEach((fea) => {\n          document.querySelector('#detailFeatures').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/themes/cmu/assets/img/icon/detail/white/${fea}.png\" alt=\"\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        res.data().amenities.forEach((fea) => {\n          document.querySelector('#detailAmenities').innerHTML += `\n          <div class=\"dtdc-fea-card\">\n            <img src=\"${\n              window.location.origin\n            }/wp-content/themes/cmu/assets/img/icon/detail/white/${fea}.png\" alt=\"\">\n            <p>${translateToChinese(fea)}</p>\n          </div>\n          `;\n        });\n\n        document.querySelectorAll('.detailBed').forEach((el) => {\n          el.innerHTML = res.data().type[0];\n        });\n        document.querySelectorAll('.detailBath').forEach((el) => {\n          el.innerHTML = res.data().type[2];\n        });\n        document.querySelectorAll('.detailBroker').forEach((el) => {\n          el.innerHTML = res.data().broker;\n        });\n        document.querySelector(\n          '#detailMainImg'\n        ).src = `https://drive.google.com/uc?export=view&id=${\n          res.data().pictures[0]\n        }`;\n\n        let picArray = [];\n        for (i = 0; i < res.data().pictures.length; i++) {\n          subImgCont.innerHTML += `<img class=\"dtd-pic-sub subImg\" src=\"https://drive.google.com/uc?export=view&id=${\n            res.data().pictures[i]\n          }\" alt=\"subImg${i}\">`;\n          picArray.push(res.data().pictures[i]);\n        }\n\n        setTimeout(() => {\n          const subImgs = document.querySelectorAll('.subImg');\n          subImgs.forEach((el) => {\n            el.addEventListener('mouseover', () => {\n              document.querySelector('#detailMainImg').src = `${el.getAttribute(\n                'src'\n              )}`;\n            });\n          });\n        }, 1000);\n\n        document.querySelectorAll('.detailLength').forEach((el) => {\n          el.innerHTML = res.data().length;\n        });\n        document.querySelectorAll('.detailAddress').forEach((el) => {\n          el.innerHTML = res.data().daddress;\n        });\n        document.querySelectorAll('.detailDate').forEach((el) => {\n          el.innerHTML = res.data().date;\n        });\n\n        var mapDetail = new mapboxgl.Map({\n          container: 'mapDetailDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',   F3bYaVhsckVIwgNKTH6zAA3xwnA31659716256469\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: res.data().coordinate,\n          zoom: 13,\n        });\n\n        mapDetail.addControl(new mapboxgl.NavigationControl());\n\n        mapDetail.on('load', () => {\n          const center = res.data().coordinate;\n          const radius = 0.5;\n          const options = {\n            steps: 35,\n            units: 'kilometers',\n          };\n          const circle = turf.circle(center, radius, options);\n\n          mapDetail.addSource('circleData', {\n            type: 'geojson',\n            data: circle,\n          });\n\n          // add a layer that displays the data   F3bYaVhsckVIwgNKTH6zAA3xwnA31659715927129\n          mapDetail.addLayer({\n            id: 'circle-fill',\n            type: 'fill',\n            source: 'circleData',\n            paint: {\n              'fill-color': '#f78915',\n              // 'fill-color': '#000',\n              'fill-opacity': 0.5,\n            },\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    const contactEle = document.querySelector('#infoContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#locContainer');\n    const topLocEle = locEle.offsetTop;\n    const descEle = document.querySelector('#descContainer');\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('stickyEle');\n        descEle.style.marginRight = '0px';\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle)\n      ) {\n        contactEle.classList.add('stickyEle');\n        contactEle.style.top = '96px';\n        contactEle.style.right = '14.6vw';\n        descEle.style.marginRight = '264px';\n      } else if (window.pageYOffset > topLocEle) {\n        contactEle.style.top = `${topLocEle - window.pageYOffset + 96}px`;\n      } else {\n        contactEle.classList.remove('stickyEle');\n      }\n    };\n  });\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const auth = firebase.auth();\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      const signUpLogInDiv = document.querySelector('#signUpLogInDiv');\n      const userMenuDiv = document.querySelector('#userMenuDiv');\n      const userMenu = document.querySelector('#userMenu');\n      const ddMenu = document.querySelector('#dd-menu-cont');\n      const logOutBtn = document.querySelector('#logOutBtn');\n      signUpLogInDiv.style.display = 'none';\n      userMenuDiv.style.display = 'flex';\n\n      userMenu.addEventListener('click', () => {\n        if (ddMenu.style.display == 'none') {\n          ddMenu.style.display = 'flex';\n        } else {\n          ddMenu.style.display = 'none';\n        }\n      });\n\n      logOutBtn.addEventListener('click', () => {\n        auth.signOut();\n        signUpLogInDiv.style.display = 'flex';\n        userMenuDiv.style.display = 'none';\n      });\n\n      if (\n        window.location.pathname === '/member-login/' ||\n        window.location.pathname === '/member-signup/'\n      ) {\n        document.location.href = '/';\n      }\n    } else {\n      if (window.location.pathname === '/member-login/') {\n        const logInEmail = document.querySelector('#logInEmail');\n        const logInPassword = document.querySelector('#logInPassword');\n\n        const logInBtn = document.querySelector('#logInBtn');\n        logInBtn.addEventListener('click', () => {\n          auth\n            .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n            .then((result) => {\n              // location.reload();\n              document.location.href = '/';\n              // console.log(auth.currentUser);\n            })\n            .catch((err) => {\n              window.alert(err);\n            });\n        });\n        logInPassword.addEventListener('keypress', function (e) {\n          if (e.key === 'Enter') {\n            auth\n              .signInWithEmailAndPassword(logInEmail.value, logInPassword.value)\n              .then((result) => {\n                document.location.href = '/';\n              })\n              .catch((err) => {\n                window.alert(err);\n              });\n          }\n        });\n        document.querySelector('#resetPWbtn').addEventListener('click', () => {\n          console.log('forgot PW?');\n          document.querySelector('#logInBox').style.display = 'none';\n          document.querySelector('#forgotBtnBox').style.display = 'none';\n          document.querySelector('#logInBtn').style.display = 'none';\n          document.querySelector('#resetPWBox').style.display = 'flex';\n          document\n            .querySelector('#forgotEmailSubmitBtn')\n            .addEventListener('click', () => {\n              const resetEmailAddress =\n                document.querySelector('#resetPWEmail').value;\n              // console.log(resetEmailAddress);\n              auth\n                .sendPasswordResetEmail(resetEmailAddress)\n                .then((res) => {\n                  console.log(res);\n                  console.log('Email sent');\n                  document.querySelector('#resetPWMsg').style.display = 'block';\n                  document.querySelector(\n                    '#forgotEmailSubmitBtn'\n                  ).style.display = 'none';\n                })\n                .catch((error) => {\n                  var errorCode = error.code;\n                  var errorMessage = error.message;\n                });\n            });\n        });\n        document.querySelector('#backToLogIn').addEventListener('click', () => {\n          document.querySelector('#logInBox').style.display = 'block';\n          document.querySelector('#forgotBtnBox').style.display = 'flex';\n          document.querySelector('#logInBtn').style.display = 'block';\n          document.querySelector('#resetPWBox').style.display = 'none';\n        });\n      }\n      if (window.location.pathname === '/member-signup/') {\n        const signUpUsername = document.querySelector('#signUpUsername');\n        const signUpEmail = document.querySelector('#signUpEmail');\n        const signUpPassword = document.querySelector('#signUpPassword');\n        const signUpPasswordCheck = document.querySelector(\n          '#signUpPasswordCheck'\n        );\n        const signUpAgreement = document.querySelector('#userAgreement');\n\n        const signUpBtn = document.querySelector('#signUpBtn');\n        signUpBtn.addEventListener('click', () => {\n          console.log('Clicked');\n          if (signUpPassword.value != signUpPasswordCheck.value) {\n            window.alert('Please check the password again');\n          } else {\n            // Display the passwords are different\n            if (!signUpAgreement.checked) {\n              window.alert('Please check the user agreement');\n            } else {\n              auth\n                .createUserWithEmailAndPassword(\n                  signUpEmail.value,\n                  signUpPassword.value\n                )\n                .then((result) => {\n                  result.user\n                    .updateProfile({\n                      displayName: signUpUsername.value,\n                    })\n                    .then(() => {\n                      document.location.href = '/';\n                    });\n                })\n                .catch((err) => {\n                  // console.error(err.message);\n                  window.alert(err.message);\n                });\n              console.log('Checked');\n            }\n          }\n        });\n        const db = firebase.firestore();\n        const userInfoRef = db.collection('userInfo');\n        userInfoRef\n          .doc(user.uid)\n          .set({\n            username: user.displayName,\n            email: user.email,\n            number: '',\n            wechat: '',\n            membership: '',\n          })\n          .then((res) => {\n            console.log(res);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n\n      if (window.location.pathname === '/mypage/') {\n        document.location.href = '/';\n      }\n    }\n  });\n});\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//     auth.onAuthStateChanged((user) => {\n//       if (!user) {\n//       } else {\n//         // document.location.href = '/';\n//         console.log(user);\n//         setTimeout(() => {\n//           console.log(user);\n//         }, 2000);\n//       }\n//     });\n//   });\n// }\n\n// if (window.location.pathname === '/member-signup/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     const auth = firebase.auth();\n\n//   });\n// }\n\n// if (window.location.pathname === '/member-login/') {\n//   window.addEventListener('DOMContentLoaded', () => {\n//     console.log('login');\n//   });\n// }\n\n// auth\n//   .createUserWithEmailAndPassword(signUpEmail.value, signUpPassword.value)\n//   .then((result) => {\n//     result.user.updateProfile({\n//       displayName: signUpUsername.value,\n//     });\n//     // location.reload();\n//     result.user\n//       .sendEmailVerification()\n//       .then(() => {\n//         window.alert(\n//           '본인인증을 위해 회원가입에 사용하신 이메일의 본인인증 확인 링크를 클릭하여 주시기 바랍니다.'\n//         );\n//         veriBtnLSOff();\n//       })\n//       .catch((err) => {\n//         console.error(err.message);\n//         veriBtnLSOff();\n//       });\n//   })\n//   .catch((err) => {\n//     console.error(err.message);\n//     window.alert(err.message);\n//     veriBtnLSOff();\n//   });\n","window.addEventListener('DOMContentLoaded', () => {\n  const firebaseConfig = {\n    apiKey: 'AIzaSyDAjXdbYphJwzZ9mUDFsTWBQDz81xh9opA',\n    authDomain: 'koreamovesusa.firebaseapp.com',\n    projectId: 'koreamovesusa',\n    storageBucket: 'koreamovesusa.appspot.com',\n    messagingSenderId: '171734962463',\n    appId: '1:171734962463:web:12ef0531328c38b2e2e02a',\n    measurementId: 'G-KFFWZ5Q1SY',\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  // const db = firebase.firestore();\n  // const storage = firebase.storage();\n  // const auth = firebase.auth();\n});\n","if (window.location.pathname === '/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n\n  window.addEventListener('DOMContentLoaded', () => {\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    const NYAreaConvertor = (area) => {\n      let NYAreaInChinese;\n\n      switch (area) {\n        case 'uptown':\n          NYAreaInChinese = '纽约-曼哈顿-上城';\n          break;\n        case 'midtown':\n          NYAreaInChinese = '纽约-曼哈顿-中城';\n          break;\n        case 'downtown':\n          NYAreaInChinese = '纽约-曼哈顿-下城';\n          break;\n        case 'lic':\n          NYAreaInChinese = '纽约-长岛市';\n          break;\n        case 'queens':\n          NYAreaInChinese = '纽约-皇后区';\n          break;\n        case 'flushing':\n          NYAreaInChinese = '纽约-法拉盛';\n          break;\n        case 'brooklyn':\n          NYAreaInChinese = '纽约-布鲁克林';\n          break;\n        case 'bronx':\n          NYAreaInChinese = '纽约-布朗克斯';\n          break;\n        case 'etc':\n          NYAreaInChinese = '纽约-其他';\n          break;\n\n        default:\n          break;\n      }\n\n      return NYAreaInChinese;\n    };\n\n    const BOSAreaConvertor = (area) => {\n      let BOSAreaInChinese;\n\n      switch (area) {\n        case 'allston':\n          BOSAreaInChinese = '波士顿-奥斯顿';\n          break;\n        case 'backbay':\n          BOSAreaInChinese = '波士顿-后湾';\n          break;\n        case 'brighton':\n          BOSAreaInChinese = '波士顿-布莱顿';\n          break;\n        case 'brookline':\n          BOSAreaInChinese = '波士顿-布鲁克莱恩';\n          break;\n        case 'cambridge':\n          BOSAreaInChinese = '波士顿-剑桥';\n          break;\n        case 'downtown':\n          BOSAreaInChinese = '波士顿-下城';\n          break;\n        case 'fenway':\n          BOSAreaInChinese = '波士顿-芬威';\n          break;\n        case 'northend':\n          BOSAreaInChinese = '波士顿-北端';\n          break;\n        case 'malden':\n          BOSAreaInChinese = '波士顿-莫尔登';\n          break;\n        case 'southend':\n          BOSAreaInChinese = '波士顿-南端';\n          break;\n        case 'somerville':\n          BOSAreaInChinese = '波士顿-萨默维尔';\n          break;\n        case 'etc':\n          BOSAreaInChinese = '波士顿-其他';\n          break;\n\n        default:\n          break;\n      }\n\n      return BOSAreaInChinese;\n    };\n\n    const NYlistingRef = db.collection('rentListing');\n    const NYListingDiv = document.querySelector('#NYListingDiv');\n    NYlistingRef.orderBy('writetime', 'asc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        NYListingDiv.style.display = 'grid';\n        res.docs.map((el) => {\n          // console.log(el.data());\n          NYListingDiv.innerHTML += `\n            <a class=\"frontToListing\" href=\"/detail/?li=${el.data().uid}${\n            el.data().writetime\n          }\" target=\"blank\">\n              <div class=\"main-rent-card\">\n                <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                  el.data().pictures[0]\n                }\" alt=\"rentExample\">\n                <div class=\"main-rent-info\">\n                  <div>\n                    <p class=\"main-rent-title\">${el.data().title}</p>\n                    <p class=\"main-rent-city\">${NYAreaConvertor(\n                      el.data().area\n                    )}</p>\n                    <p class=\"main-rent-term\">租期：${el.data().length}</p>\n                  </div>\n                  <div class=\"main-rent-price\"><p>$ ${stringCon(\n                    el.data().price\n                  )}/月</p></div>\n                </div>\n              </div>\n            </a>`;\n        });\n        document.querySelector('#frontPreLoading').style.display = 'none';\n      });\n\n    const BOSlistingRef = db.collection('bostonListing');\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(8)\n      .get()\n      .then((res) => {\n        const BOSListingDiv = document.querySelector('#BOSListingDiv');\n        res.docs.map((el) => {\n          BOSListingDiv.innerHTML += `\n            <div class=\"main-rent-card\">\n              <img class=\"main-rent-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                el.data().pictures[0]\n              }\" alt=\"rentExample\">\n              <div class=\"main-rent-info\">\n                <div>\n                  <p class=\"main-rent-title\">${el.data().title}</p>\n                  <p class=\"main-rent-city\">${BOSAreaConvertor(\n                    el.data().area\n                  )}</p>\n                  <p class=\"main-rent-term\">租期：${el.data().length}</p>\n                </div>\n                <div class=\"main-rent-price\"><p>$ ${stringCon(\n                  el.data().price\n                )}/月</p></div>\n              </div>\n            </div>`;\n        });\n      });\n    BOSlistingRef.orderBy('writetime', 'desc')\n      .limit(6)\n      .get()\n      .then((res) => {\n        res.docs.map((el) => {\n          // console.log(el.data());\n        });\n      });\n\n    document.querySelector('#mainSearchBtn').addEventListener('click', () => {\n      let queryString = '?';\n      document.querySelectorAll('.mainSearchSelectOption').forEach((el) => {\n        if (el.selected) {\n          if (queryString.length == 1) {\n            queryString += el.value;\n          } else {\n            queryString += '&' + el.value;\n          }\n        }\n      });\n      window.location = '/rent/' + queryString;\n    });\n\n    const hotListingDiv = document.querySelector('#frontHotListing');\n    const hotAreaDiv = document.querySelector('#frontHotArea');\n    const HOTAreaCat = document.querySelector('#HOTAreaCat');\n    hotListingDiv.addEventListener('click', () => {\n      hotAreaDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotAreaDiv.children[0].style.color = '#fff';\n      hotListingDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotListingDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'grid';\n      HOTAreaCat.style.display = 'none';\n    });\n    hotAreaDiv.addEventListener('click', () => {\n      hotListingDiv.style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      hotListingDiv.children[0].style.color = '#fff';\n      hotAreaDiv.style.backgroundColor = 'rgb(255, 255, 255)';\n      hotAreaDiv.children[0].style.color = '#000';\n      NYListingDiv.style.display = 'none';\n      HOTAreaCat.style.display = 'grid';\n    });\n  });\n}\n","if (window.location.pathname.includes('genlisting')) {\n  console.log(' THIS IS THE PLACE');\n}\n","window.addEventListener('DOMContentLoaded', () => {\n  const mobileMenu = document.querySelector('#mobileDropDownMenuIcon');\n  const mobileDDList = document.querySelector('#mobile-dd-detail');\n  mobileMenu.addEventListener('click', () => {\n    if (mobileMenu.getAttribute('menu-active') == 0) {\n      mobileMenu.setAttribute('menu-active', 1);\n      mobileDDList.style.display = 'flex';\n    } else {\n      mobileMenu.setAttribute('menu-active', 0);\n      mobileDDList.style.display = 'none';\n    }\n  });\n\n  const auth = firebase.auth();\n  const db = firebase.firestore();\n  const userMenu = document.querySelectorAll('.member-menu');\n  const nonUserMenu = document.querySelectorAll('.non-member-menu');\n  const userLogOut = document.querySelector('#mobile-dd-logout');\n\n  auth.onAuthStateChanged((user) => {\n    if (!user) {\n      userMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'block';\n      });\n    } else {\n      userMenu.forEach((el) => {\n        el.style.display = 'flex';\n      });\n      nonUserMenu.forEach((el) => {\n        el.style.display = 'none';\n      });\n      userLogOut.addEventListener('click', () => {\n        auth.signOut();\n      });\n    }\n  });\n});\n","if (window.location.pathname === '/mobile/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const hder = document.querySelector('#gnav');\n    const fter = document.querySelector('#gfter');\n    hder.style.display = 'none';\n    fter.style.display = 'none';\n\n    const db = firebase.firestore();\n    const auth = firebase.auth();\n\n    // Convert price into string\n    const stringCon = (num) => {\n      const numst = String(num);\n      let numed = '';\n      if (numst > 3) {\n        for (i = 0; i < numst.length - 3; i++) {\n          numed += numst[i];\n        }\n        numed += ',';\n        for (i = numst.length - 3; i < numst.length; i++) {\n          numed += numst[i];\n        }\n      }\n      return numed;\n    };\n\n    // URL Param variables\n    const currentURL = window.location.search;\n    const currentParamsURL = new URLSearchParams(currentURL);\n\n    var NYRef = db.collection('rentListing');\n\n    // Mobile Filter Section\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#mob${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#mob${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    if (currentParamsURL.get('area')) {\n      NYRef = NYRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      NYRef = NYRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          NYRef = NYRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          NYRef = NYRef.where('price', '>=', '1000');\n          NYRef = NYRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          NYRef = NYRef.where('price', '>=', '2000');\n          NYRef = NYRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          NYRef = NYRef.where('price', '>=', '3000');\n          NYRef = NYRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          NYRef = NYRef.where('price', '>=', '4000');\n          NYRef = NYRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          NYRef = NYRef.where('price', '>=', '5000');\n          NYRef = NYRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          NYRef = NYRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchType = document.querySelectorAll('.mobSearchType');\n    const searchArea = document.querySelectorAll('.mobSearchArea');\n    const searchPrice = document.querySelectorAll('.mobSearchPrice');\n    searchElSelector(searchType);\n    searchElSelector(searchArea);\n    searchElSelector(searchPrice);\n\n    const fileterDiv = document.querySelector('#mobileFilterDiv');\n    const filterDivDetail = document.querySelectorAll('.mb-filter-item-detail');\n    const mobileTimeFilter = document.querySelector('#mobile-filter-time');\n    mobileTimeFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[0].style.visibility = 'visible';\n    });\n    const mobileAreaFilter = document.querySelector('#mobile-filter-area');\n    mobileAreaFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[1].style.visibility = 'visible';\n    });\n    const mobilePriceFilter = document.querySelector('#mobile-filter-price');\n    mobilePriceFilter.addEventListener('click', () => {\n      fileterDiv.style.display = 'flex';\n      filterDivDetail.forEach((el) => {\n        el.style.visibility = 'hidden';\n      });\n      filterDivDetail[2].style.visibility = 'visible';\n    });\n\n    // Actual Listing Showing\n    const mobileListingCont = document.querySelector('#mobileListingCont');\n    NYRef.limit(10)\n      .get()\n      .then((res) => {\n        // Mobile LS Disappear\n        document.querySelector('#mobileFrontLoadingSpinnerDiv').style.display =\n          'none';\n        res.docs.map((doc) => {\n          mobileListingCont.innerHTML += `\n          <a class=\"mobileListingAnchor\" href=\"/detail/?li=${doc.data().uid}${\n            doc.data().writetime\n          }\">\n            <div class=\"mb-card\">\n              <img class=\"mb-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                doc.data().pictures[0]\n              }\" alt=\"CMMobileListingImg\">\n              <div class=\"mb-card-desc\">\n                <p class=\"mbc-desc-title\">${doc.data().title}</p>\n                <p class=\"mbc-desc-content\">个人转租 【JP 1b1b 客厅】 租金：1600/月 带家具 电网费自理 租期可议：4/7-8/7 <br> 地址：${\n                  doc.data().daddress\n                }</p>\n                <p class=\"mbc-desc-price\">$ ${stringCon(\n                  doc.data().price\n                )}/月</p>\n              </div>\n            </div>\n          </a>`;\n        });\n      });\n\n    //\n    var selectedCategory;\n    const mobileFrontCategory = document.querySelectorAll(\n      '.mb-menu-category-item'\n    );\n    const underlineCategory = document.querySelectorAll(\n      '.mb-menu-category-selected'\n    );\n    const mobileFrontRentListingDiv = document.querySelector(\n      '#mb-front-rentListing'\n    );\n    const mobileFrontShorterm = document.querySelector('#mb-front-shortterm');\n    const mobileFrontRoommate = document.querySelector('#mb-front-roommate');\n\n    mobileFrontCategory.forEach((el) => {\n      // el.style.color = '#c9c9c9';\n      el.addEventListener('click', (e) => {\n        e.target.style.color = '#000';\n        selectedCategory = e.target.getAttribute('cate-index');\n\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          e.target.parentNode.children[i].style.color = '#c9c9c9';\n        }\n        for (i = 0; i < e.target.parentNode.children.length; i++) {\n          underlineCategory[i].style.visibility = 'hidden';\n        }\n        underlineCategory[selectedCategory].style.visibility = 'visible';\n        e.target.parentNode.children[selectedCategory].style.color = '#000';\n\n        if (selectedCategory == 0) {\n          mobileFrontRentListingDiv.style.display = 'block';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 1) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'block';\n          mobileFrontRoommate.style.display = 'none';\n        } else if (selectedCategory == 2) {\n          mobileFrontRentListingDiv.style.display = 'none';\n          mobileFrontShorterm.style.display = 'none';\n          mobileFrontRoommate.style.display = 'block';\n        }\n      });\n    });\n\n    const mobileFooterMoreDefault = document.querySelector(\n      '#mobileFooterMoreDefault'\n    );\n    const mobileFooterDetail = document.querySelector('#mobileFooterDetail');\n    const mobileFooterDetailMenu = document.querySelector(\n      '#mobileFooterDetailMenu'\n    );\n    mobileFooterMoreDefault.addEventListener('click', () => {\n      console.log('more btn');\n      mobileFooterMoreDefault.style.display = 'none';\n      mobileFooterDetail.style.display = 'flex';\n      mobileFooterDetailMenu.style.display = 'flex';\n    });\n    mobileFooterDetail.addEventListener('click', () => {\n      console.log('detail');\n      mobileFooterMoreDefault.style.display = 'flex';\n      mobileFooterDetail.style.display = 'none';\n      mobileFooterDetailMenu.style.display = 'none';\n    });\n    //\n  });\n}\n","if (window.location.pathname === '/mypage/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    const auth = firebase.auth();\n    auth.onAuthStateChanged((user) => {\n      if (!user) {\n        window.location.replace('/');\n      } else {\n        const db = firebase.firestore();\n        const uid = user.uid;\n        const listingRef = db.collection('rentListing');\n        const userRef = db.collection('userInfo');\n\n        const myListingDiv = document.querySelector('#myListingDiv');\n        const mbMyListing = document.querySelector('#mbMyListing');\n\n        listingRef\n          .where('uid', '==', uid)\n          .get()\n          .then((res) => {\n            res.docs.map((el) => {\n              // console.log(el.data());\n              const timestamp = new Date(\n                parseInt(String(el.data().writetime).substring(0, 13))\n              );\n\n              if (el.data().type == 'studio') {\n                var objPropBed = 'Studio';\n                var objPropBath = '1 Bath';\n              } else {\n                var objPropBed = el.data().type[0] + ' Bed';\n                var objPropBath = el.data().type[2] + ' Bath';\n              }\n\n              myListingDiv.innerHTML += `\n                <div class=\"myp-lising-card\">\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"_blank\">\n                    <div class=\"myp-card-left\">\n                      <img class=\"myp-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                        el.data().pictures[0]\n                      }\">\n                      <div class=\"myp-card-img-desc\">\n                        <div class=\"myp-card-type\">\n                          <p>${objPropBed}</p>\n                          <p>${objPropBath}</p>\n                        </div>\n                        <div class=\"myp-card-price\">$ ${\n                          el.data().price\n                        }/月</div>\n                      </div>\n                    </div>\n                  </a>\n                  <a class=\"myListingAnchor\" href=\"/detail/?li=${\n                    el.data().uid\n                  }${el.data().writetime}\" target=\"blank\">\n                    <div class=\"myp-card-desc\">\n                      <div class=\"myp-card-detail\">\n                        <p>${el.data().title}</p>\n                        <p>租期：${el.data().length}</p>\n                        <p>入住时间：${el.data().date}</p>\n                        <p>发布时间：${\n                          timestamp.getMonth() + 1\n                        }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class=\"myp-card-editdelete\">\n                    <i class=\"fa fa-pencil-square-o editdelete\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;编辑</span></i>\n                    <i class=\"fa fa-trash-o editdelete deleteDiv\" aria-hidden=\"true\" data-search=\"${\n                      el.data().uid\n                    }${el.data().writetime}\"><span>&nbsp;删除</span></i>\n                  </div>\n                </div>\n              `;\n\n              mbMyListing.innerHTML += `\n              <div class=\"mb-mypage-card\">\n                <a href=\"/detail/?li=${el.data().uid}${el.data().writetime}\">\n                  <div class=\"mb-mypage-card-cont\">\n                    <img class=\"mb-mypage-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                      el.data().pictures[0]\n                    }\">\n                    <div class=\"mb-mypage-card-desc\">\n                      <p class=\"mb-mypage-card-title\">${el.data().title}</p>\n                      <div class=\"mb-mypage-card-info\">\n                        <p>${objPropBed}</p>\n                        <p>${objPropBath}</p>\n                        <p>$ ${el.data().price}/月</p>\n                      </div>\n                    </div>\n                  </div>\n                </a>\n                <div class=\"mb-mypage-card-editdelete\">\n                  <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n                  <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\n                </div>\n              </div>\n              `;\n            });\n\n            // Edit and Delete btn activation\n            const editDiv = document.querySelectorAll('.editDiv');\n            editDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                console.log('edit');\n                console.log(el.getAttribute('data-search'));\n              });\n            });\n            const deleteDiv = document.querySelectorAll('.deleteDiv');\n            deleteDiv.forEach((el) => {\n              el.addEventListener('click', () => {\n                listingRef\n                  .doc(el.getAttribute('data-search'))\n                  .delete()\n                  .then(() => {\n                    console.log('Successfully deleted');\n                    location.reload();\n                  })\n                  .catch((err) => {\n                    console.log(err);\n                  });\n              });\n            });\n          });\n        userRef\n          .doc(uid)\n          .get()\n          .then((res) => {\n            const userEmailInput = document.querySelector('#mpEmail');\n            userEmailInput.style.color = '#fff';\n            userEmailInput.value = res.data().email;\n            userEmailInput.disabled = true;\n            const userName = document.querySelector('#mpUsername');\n            userName.style.color = '#fff';\n            userName.value = res.data().username;\n            userName.disabled = true;\n            const userPhone = document.querySelector('#mpPhone');\n            userPhone.style.color = '#fff';\n            userPhone.value = res.data().number;\n            userPhone.disabled = true;\n            const userWechat = document.querySelector('#mpWeixin');\n            userWechat.style.color = '#fff';\n            userWechat.value = res.data().wechat;\n            userWechat.disabled = true;\n          });\n      }\n    });\n\n    const mypageCateBtn = document.querySelectorAll('.mpcat-item');\n    const mypageSection = document.querySelectorAll('.mypage-section');\n\n    mypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mypageCateBtn[index].style.color = '#fff';\n        mypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mypageCateBtn[2].style.color = '#fff';\n      mypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n\n    const mobMypageCateBtn = document.querySelectorAll('.mob-mpcat-item');\n\n    mobMypageCateBtn.forEach((el) => {\n      el.addEventListener('click', (e) => {\n        let index = [...mobMypageCateBtn].indexOf(el);\n        mypageSection.forEach((ele) => {\n          ele.style.display = 'none';\n        });\n        mypageSection[index].style.display = 'flex';\n        mobMypageCateBtn.forEach((ele) => {\n          ele.style.backgroundColor = '#fff';\n          ele.style.color = '#000';\n        });\n        mobMypageCateBtn[index].style.color = '#fff';\n        mobMypageCateBtn[index].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n      });\n    });\n\n    if (window.location.search === '?mylist') {\n      mypageSection.forEach((ele) => {\n        ele.style.display = 'none';\n      });\n      mypageSection[2].style.display = 'flex';\n      mobMypageCateBtn.forEach((ele) => {\n        ele.style.backgroundColor = '#fff';\n        ele.style.color = '#000';\n      });\n      mobMypageCateBtn[2].style.color = '#fff';\n      mobMypageCateBtn[2].style.backgroundColor = 'rgb(0, 0, 0, 0.8)';\n    }\n  });\n}\n","if (window.location.pathname === '/register/') {\n  window.addEventListener('DOMContentLoaded', () => {\n    // firebase\n    const db = firebase.firestore();\n    const storage = firebase.storage();\n    const auth = firebase.auth();\n\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        // mapbox\n        var maptest = new mapboxgl.Map({\n          container: 'maptestDiv',\n          // style: 'mapbox://styles/mapbox/streets-v11',\n          style: 'mapbox://styles/mapbox/dark-v10',\n          center: [121.5003576, 31.2185876],\n          zoom: 12,\n        });\n\n        maptest.addControl(new mapboxgl.NavigationControl());\n\n        const marker1 = new mapboxgl.Marker({\n          color: '#b40219',\n        })\n          .setLngLat([121.5003576, 31.2185876])\n          .addTo(maptest);\n\n        const newPostingObj = { features: [], amenities: [], address: '' };\n\n        const uid = user.uid;\n        const time = new Date().getTime();\n        console.log(uid);\n        console.log(time);\n\n        const pointMapCity = document.querySelector('#rq-city');\n        const pointMapAddress = document.querySelector('#rq-address');\n        const pointMapZip = document.querySelector('#rq-zip');\n        pointMapAddress.addEventListener('focusout', () => {\n          marker1.remove();\n\n          console.log('work?');\n          const searchMap = String(\n            pointMapAddress.value +\n              ', ' +\n              pointMapCity.value +\n              ', ' +\n              pointMapZip.value +\n              'united states'\n          );\n\n          if (pointMapAddress.value != '') {\n            // LONGITUDE AND LATITUTDE\n            const xmlhttp = new XMLHttpRequest();\n            let addressReq1 = searchMap.replaceAll(',', '');\n            let addressReq = addressReq1.replaceAll(' ', '%20');\n            console.log(addressReq);\n            xmlhttp.onreadystatechange = function () {\n              if (this.readyState == 4 && this.status == 200) {\n                var myArr = JSON.parse(this.responseText);\n                newPostingObj.address = myArr.features[0].place_name;\n                newPostingObj.coordinate = myArr.features[0].center;\n              }\n            };\n            const corReqURL = `https://api.mapbox.com/geocoding/v5/mapbox.places/${addressReq}.json?access_token=pk.eyJ1IjoiZ3JlYXQtc2ltb25sZWUiLCJhIjoiY2t6b2szZ2U5NjA0ZjJwdHZiY3Q1OHNtcyJ9.qdLhsMCScxxfzT9CYywRUQ`;\n            xmlhttp.open('GET', corReqURL, true);\n            xmlhttp.send();\n\n            const coorCheck = setInterval(() => {\n              maptest.flyTo({\n                center: newPostingObj.coordinate,\n                essential: true,\n                screenSpeed: 3,\n              });\n\n              const marker1 = new mapboxgl.Marker({\n                color: '#b40219',\n              })\n                .setLngLat(newPostingObj.coordinate)\n                .addTo(maptest);\n\n              if (newPostingObj.coordinate != undefined) {\n                clearInterval(coorCheck);\n              }\n            }, 500);\n          }\n        });\n\n        const pointArea = document.querySelector('#rq-area');\n        pointMapCity.addEventListener('focusout', () => {\n          // console.log(pointArea.children.length);\n          switch (pointMapCity.value) {\n            case 'newyork':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n              <option value=\"downtown\" map-point=\"\">曼哈顿-下城(Downtown)</option>\n              <option value=\"midtown\" map-point=\"\">曼哈顿-中城(Midtown)</option>\n              <option value=\"uptown\" map-point=\"\">曼哈顿-上城(Uptown)</option>\n              <option value=\"lic\" map-point=\"\">长岛市(LIC)</option>\n              <option value=\"queens\" map-point=\"\">皇后区(Queens)</option>\n              <option value=\"flushing\" map-point=\"\">法拉盛(Flushing)</option>\n              <option value=\"brooklyn\" map-point=\"\">布鲁克林(Brooklyn)</option>\n              <option value=\"bronx\" map-point=\"\">布朗克斯(Bronx)</option>\n              <option value=\"etc\" map-point=\"\">其他</option>\n              `;\n              break;\n            case 'boston':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                <option value=\"allston\" map-point=\"\">奥斯顿(Allston)</option>\n                <option value=\"backbay\" map-point=\"\">后湾(Back Bay)</option>\n                <option value=\"brighton\" map-point=\"\">布莱顿(Brighton)</option>\n                <option value=\"brookline\" map-point=\"\">布鲁克莱恩(Brookline)</option>\n                <option value=\"cambridge\" map-point=\"\">剑桥(Cambridge)</option>\n                <option value=\"downtown\" map-point=\"\">下城(Downtown)</option>\n                <option value=\"fenway\" map-point=\"\">芬威(Fenway)</option>\n                <option value=\"northend\" map-point=\"\">北端(North End)</option>\n                <option value=\"malden\" map-point=\"\">莫尔登(Malden)</option>\n                <option value=\"southend\" map-point=\"\">南端(South End)</option>\n                <option value=\"somerville\" map-point=\"\">萨默维尔(Somerville)</option>\n                <option value=\"etc\" map-point=\"\">其他</option>\n                `;\n              break;\n            case 'newjersey':\n              pointArea.innerHTML = '';\n              pointArea.innerHTML += `\n                  <option value=\"\" map-point=\"\">爱迪生(Edison)</option>\n                  <option value=\"\" map-point=\"\">蒙哥马利(Montgomery)</option>\n                  <option value=\"\" map-point=\"\">普林斯顿(Princeton)</option>\n                  <option value=\"\" map-point=\"\">西温莎(West Windsor)</option>\n                  <option value=\"\" map-point=\"\">平原市(Plainsboro)</option>\n                  <option value=\"\" map-point=\"\">帕拉默斯(Paramus)</option>\n                  <option value=\"\" map-point=\"\">利堡(Fort Lee)</option>\n                  <option value=\"\" map-point=\"\">锡考克斯(Secaucus)</option>\n                  <option value=\"\" map-point=\"\">泽西市(Jersey City)</option>\n                  <option value=\"\" map-point=\"\">(West New York)</option>\n                  <option value=\"\" map-point=\"\">(Union City)</option>\n                  <option value=\"\" map-point=\"\">霍博肯(Hoboken)</option>\n                  <option value=\"Etc\" map-point=\"\">其他</option>\n                  `;\n              break;\n          }\n        });\n\n        // Google scripts iframe\n        const googleIframeDiv = document.querySelector('#googleIframeDiv');\n        googleIframeDiv.innerHTML = `<iframe id=\"reg-ifr\" src=\"\n        https://script.google.com/macros/s/AKfycbxg3R42l7YoL-zXFPzLEfPcydvRWyjf1gQGZaLn-3f4lzRNWAA0vRWbGG33t1__HMNGyw/exec?usr=${uid}&time=${time}\" frameborder=\"0\" style=\"width: 100%; height: 400px; background-color: #0f0f0f;\"></iframe>`;\n\n        const regSubmitBtn = document.querySelector('#regSubmitBtn');\n\n        const regCity = document.querySelector('#rq-city');\n        const regArea = document.querySelector('#rq-area');\n        const regTitle = document.querySelector('#rq-title');\n        const regPrice = document.querySelector('#rq-price');\n        const regType = document.querySelector('#rq-type');\n        const regLength = document.querySelector('#rq-length');\n        const regDate = document.querySelector('#rq-movdate');\n        const regDateMonth = document.querySelector('#rq-movdate').split('-');\n        const regContact = document.querySelector('#rq-contact');\n        const regFea = document.querySelectorAll('.rq-fea');\n        const regAme = document.querySelectorAll('.rq-ame');\n        const regDesc = document.querySelector('#rq-desc');\n        const regDAddress = document.querySelector('#rq-dAddress');\n        const regBrokerFee = document.querySelector('#rq-broker');\n\n        regSubmitBtn.addEventListener('click', () => {\n          const xhr = new XMLHttpRequest();\n          // const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=F3bYaVhsckVIwgNKTH6zAA3xwnA3&time=1659711629275`;\n          const JSONurl = `https://script.google.com/macros/s/AKfycbyRKwuMenCZ2kN6jJwtPxKoZ9_1odODfqWwPkoKvK71yeUL1_qsxEPUcQdWWj0E3Jld/exec?uid=${uid}&time=${time}`;\n          xhr.open('GET', JSONurl, true);\n          xhr.onload = function () {\n            const getResult = JSON.parse(xhr.responseText);\n            const picOrder = [];\n            for (i = 0; i < getResult.length; i++) {\n              for (j = 0; j < getResult.length; j++) {\n                if (i == getResult[j].order) {\n                  picOrder.push(getResult[j].path);\n                }\n              }\n            }\n            newPostingObj.pictures = picOrder;\n\n            validateInput(newPostingObj);\n          };\n          xhr.send();\n\n          newPostingObj.city = regCity.value;\n          newPostingObj.area = regArea.value;\n          newPostingObj.prop = regProp.value;\n          newPostingObj.title = regTitle.value;\n          newPostingObj.price = regPrice.value;\n          newPostingObj.type = regType.value;\n          newPostingObj.length = regLength.value;\n          newPostingObj.date = regDate.value;\n          newPostingObj.dateMonth = regDateMonth[1];\n          newPostingObj.contact = regContact.value;\n          newPostingObj.description = regDesc.value;\n          newPostingObj.uid = uid;\n          newPostingObj.writetime = time;\n          newPostingObj.web = 'cm';\n          newPostingObj.daddress = regDAddress.value;\n          newPostingObj.broker = regBrokerFee.value;\n\n          regFea.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.features.push(el.getAttribute('data-input'));\n            }\n          });\n          regAme.forEach((el) => {\n            if (el.checked) {\n              newPostingObj.amenities.push(el.getAttribute('data-input'));\n            }\n          });\n        });\n\n        const validateInput = (obj) => {\n          console.log(obj);\n          for (i = 0; i < Object.values(obj).length; i++) {\n            if (Object.values(obj)[i] === '') {\n              switch (Object.keys(obj)[i]) {\n                case 'address':\n                  document.getElementById('rq-address').scrollIntoView();\n                  document.getElementById('rq-address').style.border =\n                    'red solid 3px';\n                  break;\n                case 'prop':\n                  document.getElementById('rq-city').scrollIntoView();\n                  document.getElementById('rq-city').style.border =\n                    'red solid 3px';\n                  break;\n                case 'title':\n                  document.getElementById('rq-title').scrollIntoView();\n                  document.getElementById('rq-title').style.border =\n                    'red solid 3px';\n                  break;\n                case 'price':\n                  document.getElementById('rq-price').scrollIntoView();\n                  document.getElementById('rq-price').style.border =\n                    'red solid 3px';\n                  break;\n                case 'type':\n                  document.getElementById('rq-type').scrollIntoView();\n                  document.getElementById('rq-type').style.border =\n                    'red solid 3px';\n                  break;\n                case 'length':\n                  document.getElementById('rq-length').scrollIntoView();\n                  document.getElementById('rq-length').style.border =\n                    'red solid 3px';\n                  break;\n                case 'date':\n                  document.getElementById('rq-movdate').scrollIntoView();\n                  document.getElementById('rq-movdate').style.border =\n                    'red solid 3px';\n                  break;\n                case 'contact':\n                  document.getElementById('rq-contact').scrollIntoView();\n                  document.getElementById('rq-contact').style.border =\n                    'red solid 3px';\n                  break;\n                case 'description':\n                  document.getElementById('rq-desc').scrollIntoView();\n                  document.getElementById('rq-desc').style.border =\n                    'red solid 3px';\n                  break;\n                case 'daddress':\n                  document.getElementById('rq-dAddress').scrollIntoView();\n                  document.getElementById('rq-dAddress').style.border =\n                    'red solid 3px';\n                  break;\n              }\n            } else {\n              uploadListingInf(newPostingObj);\n            }\n          }\n        };\n\n        const uploadListingInf = (obj) => {\n          const docName = String(uid) + String(time);\n\n          // console.log(docName);\n          // console.log(obj);\n\n          // access the db\n          db.collection('rentListing')\n            .doc(docName)\n            .set(obj)\n            .then((result) => {\n              // TEXT TO SPINNER OR VICE VERSA\n              console.log(result);\n            })\n            .catch((err) => {\n              console.log(err);\n            });\n        };\n      } else {\n        document.location.href = '/member-login';\n      }\n    });\n  });\n}\n","if (window.location.pathname === '/rent/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    // Initialize map\n    var maplisting = new mapboxgl.Map({\n      container: 'rentListingMap',\n      // style: 'mapbox://styles/mapbox/streets-v11',\n      style: 'mapbox://styles/mapbox/dark-v10',\n      center: ['-73.98917', '40.74358'],\n      zoom: 12,\n    });\n\n    const db = firebase.firestore();\n\n    // Map marker generator\n    const mapMarkerGenerator = (coor) => {\n      const marker1 = new mapboxgl.Marker({\n        color: '#f78915',\n        scale: '0.7',\n      })\n        .setLngLat(coor)\n        .addTo(maplisting);\n    };\n\n    // Making listings\n    const makeListings = (obj) => {\n      // console.log(obj.address);\n      // console.log(parseInt(String(obj.writetime).substring(0, 12)));\n      const timestamp = new Date(\n        parseInt(String(obj.writetime).substring(0, 13))\n      );\n      // const writeTimeStampTemp = new Date(obj.writetime);\n      // const strTimeStamp = obj.writetime.substring(0, 12);\n      // console.log(strTimeStamp);\n      // const timestamp = new Date(strTimeStamp);\n      // const writeTimeStamp = String(writeTimeStampTemp).slice(0, 9);\n      if (obj.type == 'studio') {\n        var objPropBed = 'Studio';\n        var objPropBath = '1 Bathroom';\n      } else {\n        var objPropBed = obj.type[0] + ' Bedroom';\n        var objPropBath = obj.type[2] + ' Bathroom';\n      }\n      listingContainer.innerHTML += `\n        <a class=\"rlCoorEl\" href=\"/detail/?li=${obj.uid}${\n        obj.writetime\n      }\" target=\"blank\">\n          <div class=\"rl-card\" data-coor=\"${obj.coordinate}\">\n            <div class=\"rl-card-cont\">\n              <img class=\"rl-card-img\" src=\"https://drive.google.com/uc?export=view&id=${\n                obj.pictures[0]\n              }\">\n              <div class=\"rl-card-info\">\n                <div class=\"rlc-info-text\">\n                  <p>${objPropBed}</p>\n                  <p>${objPropBath}</p>\n                </div>\n                <p>$ ${obj.price}/Month</p>\n              </div>\n            </div>\n            <div class=\"rl-card-desc\">\n              <h4>${obj.title}</h4>\n              <div>\n                <p>租期：${obj['length']}</p>\n                <p>入住时间：${obj.date}</p>\n                <p>发布时间：${\n                  timestamp.getMonth() + 1\n                }/${timestamp.getDate()}/${timestamp.getFullYear()} ${timestamp.getHours()}:${timestamp.getMinutes()}</p>\n              </div>\n            </div>\n          </div>\n        </a>`;\n    };\n\n    // Listing card hover map effect\n    const mapHoverEffecter = () => {\n      const rentListingCard = document.querySelectorAll('.rl-card');\n      for (i = 0; i < rentListingCard.length; i++) {\n        rentListingCard[i].addEventListener('mouseenter', (e) => {\n          maplisting.flyTo({\n            center: e.target.getAttribute('data-coor').split(','),\n            essential: true,\n            screenSpeed: 5,\n          });\n        });\n      }\n    };\n\n    // Search initial query colorizer\n    const rentListingDiv = document.querySelector('#rentListingDiv');\n    const currentURL = window.location.search;\n    // console.log(currentURL);\n    const currentParamsURL = new URLSearchParams(currentURL);\n    // console.log(currentParamsURL.get('type'));\n    const findParamKeyValue = (str) => {\n      if (currentParamsURL.get(str) == null) {\n        document.querySelector(`#${str}all`).style.color = '#f78915';\n      } else {\n        document.querySelector(\n          `#${str}${currentParamsURL.get(str)}`\n        ).style.color = '#f78915';\n      }\n    };\n\n    const getParamKey = () => {\n      findParamKeyValue('type');\n      findParamKeyValue('price');\n      findParamKeyValue('length');\n      findParamKeyValue('date');\n      findParamKeyValue('broker');\n      findParamKeyValue('area');\n    };\n\n    getParamKey();\n\n    var fbQueryRef = db.collection('rentListing');\n\n    if (currentParamsURL.get('area')) {\n      fbQueryRef = fbQueryRef.where('area', '==', currentParamsURL.get('area'));\n    }\n    if (currentParamsURL.get('type')) {\n      fbQueryRef = fbQueryRef.where('type', '==', currentParamsURL.get('type'));\n    }\n    if (currentParamsURL.get('price')) {\n      switch (currentParamsURL.get('price')) {\n        case 'l1':\n          fbQueryRef = fbQueryRef.where('price', '<', '1000');\n          break;\n        case 'g1l2':\n          fbQueryRef = fbQueryRef.where('price', '>=', '1000');\n          fbQueryRef = fbQueryRef.where('price', '<', '2000');\n          break;\n        case 'g2l3':\n          fbQueryRef = fbQueryRef.where('price', '>=', '2000');\n          fbQueryRef = fbQueryRef.where('price', '<', '3000');\n          break;\n        case 'g3l4':\n          fbQueryRef = fbQueryRef.where('price', '>=', '3000');\n          fbQueryRef = fbQueryRef.where('price', '<', '4000');\n          break;\n        case 'g4l5':\n          fbQueryRef = fbQueryRef.where('price', '>=', '4000');\n          fbQueryRef = fbQueryRef.where('price', '<', '5000');\n          break;\n        case 'g5l6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '5000');\n          fbQueryRef = fbQueryRef.where('price', '<', '6000');\n          break;\n        case 'g6':\n          fbQueryRef = fbQueryRef.where('price', '>=', '6000');\n          break;\n      }\n    }\n    if (currentParamsURL.get('length')) {\n      if (currentParamsURL.get('length') == '12个月') {\n        // fbQueryRef = fbQueryRef.where('length', '==', '1年以上');\n        fbQueryRef = fbQueryRef.where('length', '==', '12个月及以上');\n      } else {\n        fbQueryRef = fbQueryRef.where(\n          'length',\n          '==',\n          currentParamsURL.get('length')\n        );\n      }\n    }\n    if (currentParamsURL.get('date')) {\n      fbQueryRef = fbQueryRef.where(\n        'dateMonth',\n        '==',\n        parseInt(currentParamsURL.get('date'))\n      );\n    }\n    if (currentParamsURL.get('broker')) {\n      const modifiedQuery = currentParamsURL.get('broker').replaceAll('z', ' ');\n      fbQueryRef = fbQueryRef.where('broker', '==', modifiedQuery);\n    }\n\n    // Initialize listing\n    const listingContainer = document.querySelector('#listingContainer');\n    const listingPagination = document.querySelector('#listingPagination');\n    const initializeListing = (type, order) => {\n      coorListing = [];\n\n      fbQueryRef\n        // .orderBy(type, order) // OrderBy should be rewritten\n        .get()\n        .then((res) => {\n          document.querySelector('#loadingSpinnerDiv').style.display = 'none';\n          rentListingDiv.style.display = 'flex';\n          listingContainer.innerHTML = '';\n          listingPagination.innerHTML = '';\n          maplisting.resize();\n\n          res.docs.map((el) => {\n            mapMarkerGenerator(el.data().coordinate);\n          });\n\n          // Initial listing data\n          // Filtered listing doesn't have 10 listings\n          // console.log(res.docs.length);\n\n          if (res.docs.length == 0) {\n            console.log('No Listings');\n          } else if (res.docs.length > 10) {\n            for (i = 0; i < 10; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          } else {\n            for (i = 0; i < res.docs.length; i++) {\n              makeListings(res.docs[i].data());\n              // mapMarkerGenerator(res.docs[i].data().coordinate);\n            }\n          }\n\n          // if (currentURL == '') {\n          // } else {\n          //   for (i = 0; i < ; i++) {\n          //     makeListings(res.docs[i].data());\n          //     mapMarkerGenerator(res.docs[i].data().coordinate);\n          //   }\n          // }\n\n          mapHoverEffecter();\n\n          listingMove(10);\n\n          // Insert pagination\n          const totalNum = res.docs.length;\n          const pageNum = Math.ceil(totalNum / 10);\n          for (i = 0; i < pageNum; i++) {\n            listingPagination.innerHTML += `<p class=\"page-number\" data-page=\"${\n              i + 1\n            }\">${i + 1}</p>`;\n          }\n\n          // Pagination data call\n          const totalPage = document.querySelectorAll('.page-number');\n          totalPage[0].style.color = '#f78915';\n\n          // Listing refresher when pagination clicked\n          totalPage.forEach((page) => {\n            // When the pagination is clicked\n            page.addEventListener('click', (e) => {\n              listingContainer.innerHTML = '';\n              totalPage.forEach((el) => {\n                el.style.color = '#fff';\n              });\n              e.target.style.color = '#f78915';\n              let clickedCurrentPage = e.target.getAttribute('data-page');\n              let startingPoint = 10 * (clickedCurrentPage - 1);\n              let lastPageListingNumber = totalNum % 10;\n\n              if (clickedCurrentPage != pageNum) {\n                for (i = 0; i < 10; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              } else {\n                for (i = 0; i < lastPageListingNumber; i++) {\n                  mapMarkerGenerator(res.docs[i].data().coordinate);\n                  makeListings(res.docs[startingPoint + i].data());\n                }\n              }\n\n              e.target.style.color = '#f78915';\n              dateOrderBtn.scrollIntoView();\n              document\n                .querySelector('#rentMapContainer')\n                .classList.remove('rentStickyEle');\n\n              mapHoverEffecter();\n\n              listingMove(document.querySelectorAll('.rlCoorEl').length);\n            });\n          });\n        });\n    };\n\n    // Default listing\n    initializeListing('writetime', 'desc');\n\n    // Date filtered listing\n    const dateOrderBtn = document.querySelector('#timeOrder');\n    dateOrderBtn.addEventListener('click', () => {\n      initializeListing('date', 'asc');\n    });\n    // Price filtered listing\n    const priceOrderBtn = document.querySelector('#priceOrder');\n    priceOrderBtn.addEventListener('click', () => {\n      initializeListing('price', 'asc');\n    });\n\n    // Searchbar operator\n    const searchElSelector = (elGroup) => {\n      elGroup.forEach((el) => {\n        el.addEventListener('click', (e) => {\n          var params = new URLSearchParams(window.location.search);\n\n          if (e.target.getAttribute('data-search') == 'all') {\n            params.delete(String(e.target.getAttribute('search-type')));\n            window.location.search = params;\n          } else {\n            params.set(\n              String(e.target.getAttribute('search-type')),\n              String(e.target.getAttribute('data-search'))\n            );\n            window.location.search = params;\n          }\n        });\n      });\n    };\n\n    const searchPropTypeEl = document.querySelectorAll('.searchPropType');\n    const searchPrice = document.querySelectorAll('.searchPrice');\n    const searchLength = document.querySelectorAll('.searchLength');\n    const searchDate = document.querySelectorAll('.searchDate');\n    const searchBroker = document.querySelectorAll('.searchBroker');\n    const searchArea = document.querySelectorAll('.searchArea');\n    searchElSelector(searchPropTypeEl);\n    searchElSelector(searchPrice);\n    searchElSelector(searchLength);\n    searchElSelector(searchDate);\n    searchElSelector(searchBroker);\n    searchElSelector(searchArea);\n  });\n\n  // Map position while scrolling\n  const listingMove = (int) => {\n    const contactEle = document.querySelector('#rentMapContainer');\n    const stickyTopLoc = contactEle.offsetTop;\n    const locEle = document.querySelector('#rentLocContainer');\n    const topLocEle = locEle.offsetTop;\n\n    window.onscroll = function () {\n      if (window.pageYOffset < stickyTopLoc) {\n        contactEle.classList.remove('rentStickyEle');\n      } else if (\n        (window.pageYOffset > stickyTopLoc) &\n        (window.pageYOffset < topLocEle - 720)\n      ) {\n        contactEle.classList.add('rentStickyEle');\n        contactEle.style.top = '0px';\n        contactEle.style.right = '14.9vw';\n        contactEle.style.width = '304px';\n        contactEle.style.height = '640px';\n      } else {\n        contactEle.style.top = `${topLocEle - window.pageYOffset - 720}px`;\n      }\n    };\n  };\n\n  // Convert price into string\n  const stringCon = (num) => {\n    const numst = String(num);\n    let numed = '';\n    if (numst > 3) {\n      for (i = 0; i < numst.length - 3; i++) {\n        numed += numst[i];\n      }\n      numed += ',';\n      for (i = numst.length - 3; i < numst.length; i++) {\n        numed += numst[i];\n      }\n    }\n    return numed;\n  };\n}\n","if (window.location.pathname === '/roommate/') {\n  if (\n    /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(\n      navigator.userAgent\n    )\n  ) {\n    // Take the user to a different screen here.\n    window.location = '/mobile';\n  }\n  window.addEventListener('DOMContentLoaded', () => {\n    let currentStep = 0;\n    const rmQStep = document.querySelectorAll('.rm-question-step');\n\n    const fNBtn = document.querySelector('#rmFNBtn');\n    const rmNStep = document.querySelectorAll('.rmNextBtn');\n    rmNStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep < rmQStep.length - 1) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep++;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep > 0) {\n            fNBtn.style.display = 'none';\n            document.querySelector('#paginationBtnBox').style.display = 'block';\n          }\n          if (currentStep == 15) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'block';\n          }\n          if (currentStep == 16) {\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n            document.querySelector('#rmSubmitBtn').style.display = 'none';\n          }\n        }\n      });\n    });\n    const rmPStep = document.querySelectorAll('.rmPreviousBtn');\n    rmPStep.forEach((ele) => {\n      ele.addEventListener('click', () => {\n        if (currentStep > 0) {\n          rmQStep[currentStep].style.display = 'none';\n          currentStep--;\n          rmQStep[currentStep].style.display = 'block';\n          if (currentStep == 0) {\n            fNBtn.style.display = 'block';\n            document.querySelector('#paginationBtnBox').style.display = 'none';\n          }\n        }\n      });\n    });\n\n    const rmSubmitBtn = document.querySelector('#rmSubmitBtn');\n    let roommateCheckList = [];\n\n    const addData = (dt) => {\n      if (!dt.value) {\n        roommateCheckList.push('');\n      } else {\n        roommateCheckList.push(dt.value);\n      }\n    };\n\n    // Input Data\n    const appName = document.querySelector('#rmAppName');\n    const appContact = document.querySelector('#rmAppContact');\n    const appDate = document.querySelector('#rmAppDate');\n    const appArea = document.querySelector('#rmAppArea');\n    const appBudget = document.querySelector('#rmAppBudget');\n    const appSelect = document.querySelectorAll('.rm-radio-btn');\n\n    rmSubmitBtn.addEventListener('click', () => {\n      emailjs.init('user_hedHXP5BIDEBqSuAdRcOt');\n\n      addData(appName);\n      addData(appContact);\n      addData(appDate);\n      addData(appArea);\n      addData(appBudget);\n      appSelect.forEach((el) => {\n        if (el.checked) {\n          roommateCheckList.push(el.getAttribute('data-input'));\n        }\n      });\n\n      // Transfer to submit form\n      const submissionInputForm = document.querySelectorAll(\n        '.roommateSubmissionFormInput'\n      );\n      for (k = 0; k < roommateCheckList.length; k++) {\n        submissionInputForm[k].value = roommateCheckList[k];\n      }\n\n      const emailjsSubmission = document.querySelector(\n        '#roommateSubmissionForm'\n      );\n      emailjs.sendForm(\n        'service_g17icyc',\n        'template_v3ay8bh',\n        emailjsSubmission\n      );\n    });\n  });\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcmu\"] = self[\"webpackChunkcmu\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["window","location","pathname","addEventListener","db","firebase","firestore","storage","auth","urlParams","URLSearchParams","search","myParam","get","subImgCont","document","querySelector","translateToChinese","fea","stringCon","num","numst","String","numed","i","length","collection","doc","then","res","style","display","innerHTML","data","title","querySelectorAll","forEach","el","price","description","features","origin","amenities","type","broker","src","pictures","picArray","push","setTimeout","subImgs","getAttribute","daddress","date","mapDetail","mapboxgl","Map","container","center","coordinate","zoom","addControl","NavigationControl","on","radius","options","steps","units","circle","turf","addSource","addLayer","id","source","paint","catch","err","console","log","contactEle","stickyTopLoc","offsetTop","locEle","topLocEle","descEle","onscroll","pageYOffset","classList","remove","marginRight","add","top","right","onAuthStateChanged","user","signUpLogInDiv","userMenuDiv","userMenu","ddMenu","logOutBtn","signOut","href","logInEmail","logInPassword","logInBtn","signInWithEmailAndPassword","value","result","alert","e","key","resetEmailAddress","sendPasswordResetEmail","error","errorCode","code","errorMessage","message","signUpUsername","signUpEmail","signUpPassword","signUpPasswordCheck","signUpAgreement","signUpBtn","checked","createUserWithEmailAndPassword","updateProfile","displayName","userInfoRef","uid","set","username","email","number","wechat","membership","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","test","navigator","userAgent","NYAreaConvertor","area","NYAreaInChinese","BOSAreaConvertor","BOSAreaInChinese","NYlistingRef","NYListingDiv","orderBy","limit","docs","map","writetime","BOSlistingRef","BOSListingDiv","queryString","selected","hotListingDiv","hotAreaDiv","HOTAreaCat","backgroundColor","children","color","includes","mobileMenu","mobileDDList","setAttribute","nonUserMenu","userLogOut","hder","fter","currentURL","currentParamsURL","NYRef","findParamKeyValue","str","getParamKey","where","searchElSelector","elGroup","params","target","delete","searchType","searchArea","searchPrice","fileterDiv","filterDivDetail","mobileTimeFilter","visibility","mobileAreaFilter","mobilePriceFilter","mobileListingCont","selectedCategory","mobileFrontCategory","underlineCategory","mobileFrontRentListingDiv","mobileFrontShorterm","mobileFrontRoommate","parentNode","mobileFooterMoreDefault","mobileFooterDetail","mobileFooterDetailMenu","replace","listingRef","userRef","myListingDiv","mbMyListing","timestamp","Date","parseInt","substring","objPropBed","objPropBath","getMonth","getDate","getFullYear","getHours","getMinutes","editDiv","deleteDiv","reload","userEmailInput","disabled","userName","userPhone","userWechat","mypageCateBtn","mypageSection","index","indexOf","ele","mobMypageCateBtn","maptest","marker1","Marker","setLngLat","addTo","newPostingObj","address","time","getTime","pointMapCity","pointMapAddress","pointMapZip","searchMap","xmlhttp","XMLHttpRequest","addressReq1","replaceAll","addressReq","onreadystatechange","readyState","status","myArr","JSON","parse","responseText","place_name","corReqURL","open","send","coorCheck","setInterval","flyTo","essential","screenSpeed","undefined","clearInterval","pointArea","googleIframeDiv","regSubmitBtn","regCity","regArea","regTitle","regPrice","regType","regLength","regDate","regDateMonth","split","regContact","regFea","regAme","regDesc","regDAddress","regBrokerFee","xhr","JSONurl","onload","getResult","picOrder","j","order","path","validateInput","city","prop","regProp","dateMonth","contact","web","obj","Object","values","keys","getElementById","scrollIntoView","border","uploadListingInf","docName","maplisting","mapMarkerGenerator","coor","scale","makeListings","listingContainer","mapHoverEffecter","rentListingCard","rentListingDiv","fbQueryRef","modifiedQuery","listingPagination","initializeListing","coorListing","resize","listingMove","totalNum","pageNum","Math","ceil","totalPage","page","clickedCurrentPage","startingPoint","lastPageListingNumber","dateOrderBtn","priceOrderBtn","searchPropTypeEl","searchLength","searchDate","searchBroker","int","width","height","currentStep","rmQStep","fNBtn","rmNStep","rmPStep","rmSubmitBtn","roommateCheckList","addData","dt","appName","appContact","appDate","appArea","appBudget","appSelect","emailjs","init","submissionInputForm","k","emailjsSubmission","sendForm"],"sourceRoot":""}